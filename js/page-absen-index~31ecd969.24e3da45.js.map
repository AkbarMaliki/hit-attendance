{"version":3,"sources":["webpack:///./src/pages/absen/index.vue?1c86","webpack:///./node_modules/qr-scanner/qr-scanner.min.js","webpack:///./node_modules/html5-qrcode/esm/core.js","webpack:///./node_modules/html5-qrcode/esm/strings.js","webpack:///./node_modules/html5-qrcode/esm/state-manager.js","webpack:///./node_modules/html5-qrcode/esm/utils.js","webpack:///./node_modules/html5-qrcode/esm/zxing-html5-qrcode-decoder.js","webpack:///./node_modules/html5-qrcode/esm/native-bar-code-detector.js","webpack:///./node_modules/html5-qrcode/esm/code-decoder.js","webpack:///./node_modules/html5-qrcode/esm/experimental-features.js","webpack:///./node_modules/html5-qrcode/esm/html5-qrcode-scanner.js","webpack:///./node_modules/html5-qrcode/esm/html5-qrcode.js","webpack:///./node_modules/html5-qrcode/esm/image-assets.js","webpack:///./node_modules/html5-qrcode/esm/storage.js","webpack:///./node_modules/html5-qrcode/esm/ui.js","webpack:///./node_modules/html5-qrcode/esm/camera.js","webpack:///./node_modules/html5-qrcode/esm/ui/scanner/scan-type-selector.js","webpack:///src/pages/absen/index.vue","webpack:///./src/pages/absen/index.vue?0b62","webpack:///./src/pages/absen/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","on","$event","$router","go","_m","staticRenderFns","a","b","c","d","f","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","console","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","body","contains","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","add","innerHTML","firstElementChild","animate","transform","duration","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","window","getComputedStyle","setProperty","visibility","opacity","width","height","removeChild","addEventListener","_qrEnginePromise","createQrEngine","listCameras","length","navigator","mediaDevices","async","enumerateDevices","filter","kind","every","label","getUserMedia","audio","video","map","id","deviceId","_stopVideoStream","srcObject","MediaStream","_getCameraStream","stream","getVideoTracks","getSettings","turnFlashOff","turnFlashOn","hasFlash","applyConstraints","advanced","torch","_restartVideoStream","removeEventListener","stop","_postWorkerMessage","Error","location","protocol","play","facingMode","_setVideoMirror","catch","pause","Promise","setTimeout","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","k","q","all","_loadImage","_drawToCanvas","Worker","g","_postWorkerMessageSync","l","v","w","u","r","y","t","data","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","message","x","getImageData","buffer","race","detect","rawValue","test","_disableBarcodeDetector","scanImage","red","green","blue","useIntegerApproximation","BarcodeDetector","getSupportedFormats","includes","formats","then","createWorker","_scanFrame","start","Math","round","min","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","split","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","Date","now","_codeOutlineHighlightRemovalTimeout","setAttribute","join","log","Object","assign","exact","_getFacingMode","getTracks","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage","type","Html5QrcodeSupportedFormats","DecodedTextType","Html5QrcodeScanType","html5QrcodeSupportedFormatsTextMap","Map","QR_CODE","AZTEC","CODABAR","CODE_39","CODE_93","CODE_128","DATA_MATRIX","MAXICODE","ITF","EAN_13","EAN_8","PDF_417","RSS_14","RSS_EXPANDED","UPC_A","UPC_E","UPC_EAN_EXTENSION","isValidHtml5QrcodeSupportedFormats","format","values","Html5QrcodeErrorTypes","Html5QrcodeConstants","GITHUB_PROJECT_URL","SCAN_DEFAULT_FPS","DEFAULT_DISABLE_FLIP","DEFAULT_REMEMBER_LAST_CAMERA_USED","DEFAULT_SUPPORTED_SCAN_TYPE","SCAN_TYPE_CAMERA","SCAN_TYPE_FILE","QrcodeResultFormat","formatName","prototype","create","has","get","Html5QrcodeResultFactory","createFromText","decodedText","qrcodeResult","text","result","createFromQrcodeResult","Html5QrcodeErrorFactory","createFrom","error","errorMessage","UNKWOWN_ERROR","BaseLoggger","verbose","logError","isExperimental","logErrors","errors","isNullOrUndefined","obj","Html5QrcodeScannerState","Html5QrcodeStrings","codeParseError","exception","errorGettingUserMedia","onlyDeviceSupportedError","cameraStreamingNotSupported","unableToQuerySupportedDevices","insecureContextCameraQueryError","Html5QrcodeScannerStrings","scanningStatus","idleStatus","errorStatus","permissionStatus","noCameraFoundErrorStatus","lastMatch","codeScannerTitle","cameraPermissionTitle","cameraPermissionRequesting","noCameraFound","scanButtonStopScanningText","scanButtonStartScanningText","scanButtonScanningStarting","textIfCameraScanSelected","textIfFileScanSelected","selectCamera","LibraryInfoStrings","builtUsing","reportIssues","VideoConstraintsUtil","isMediaStreamConstraintsValid","videoConstraints","logger","typeofVideoConstraints","bannedKeys","bannedkeysSet","Set","keysInVideoConstraints","keys","_i","keysInVideoConstraints_1","key","ZXingHtml5QrcodeDecoder","requestedFormats","formatMap","reverseFormatMap","createReverseFormatMap","createZXingFormats","hints","set","POSSIBLE_FORMATS","decodeAsync","_this","resolve","reject","decode","zxingDecoder","luminanceSource","binaryBitmap","toHtml5QrcodeSupportedFormats","forEach","value","_","zxingFormat","zxingFormats","requestedFormats_1","requestedFormat","push","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","next","e","rejected","done","apply","__generator","sent","trys","ops","verb","Symbol","iterator","op","TypeError","call","pop","BarcodeDetectorDelegate","isSupported","createBarcodeDetectorFormats","detector","dummyDetector","barcodes","largestBarcode","_a","selectLargestBarcode","maxArea","barcodes_1","barcode","area","boundingBox","barcodeDetectorFormat","Html5QrcodeShim","experimentalFeatureConfig","EXECUTIONS_TO_REPORT_PERFORMANCE","executions","executionResults","useBarCodeDetectorIfSupported","decoder","performance","finally","executionTime","possiblyFlushPerformanceReport","sum","mean","ExperimentalFeaturesConfigFactory","createExperimentalFeaturesConfig","config","Html5QrcodeScannerStatus","StateManagerImpl","state","NOT_STARTED","onGoingTransactionNewState","UNKNOWN","directTransition","newState","failIfTransitionOngoing","validateTransition","startTransition","execute","tempNewState","cancel","getState","failIfNewStateIs","PAUSED","SCANNING","disallowedStatesToTransition","disallowedStatesToTransition_1","disallowedState","StateManagerProxy","stateManager","canScanFile","isScanning","isStrictlyScanning","isPaused","StateManagerFactory","__extends","extendStatics","setPrototypeOf","__proto__","Array","hasOwnProperty","String","__","constructor","Constants","_super","arguments","DEFAULT_WIDTH","DEFAULT_WIDTH_OFFSET","FILE_SCAN_MIN_HEIGHT","MIN_QR_BOX_SIZE","SHADED_LEFT","SHADED_RIGHT","SHADED_TOP","SHADED_BOTTOM","SHADED_REGION_ELEMENT_ID","VERBOSE","BORDER_SHADER_DEFAULT_COLOR","BORDER_SHADER_MATCH_COLOR","InternalHtml5QrcodeConfig","fps","disableFlip","qrbox","aspectRatio","isShadedBoxEnabled","Html5Qrcode","elementId","configOrVerbosityFlag","element","canvasElement","scannerPausedUiElement","hasBorderShaders","borderShaders","qrMatch","videoElement","localMediaStream","qrRegion","context","lastScanImageFile","getElementById","experimentalFeatures","qrcode","foreverScanTimeout","shouldScan","stateManagerProxy","cameraIdOrConfig","configuration","qrCodeSuccessCallback","qrCodeErrorCallback","internalConfig","clearElement","videoConstraintsAvailableAndValid","areVideoConstraintsEnabled","rootElementWidth","clientWidth","$this","toScanningStateChangeTransaction","createVideoConstraints","onMediaStreamReceived","shouldPauseVideo","showPausedState","resume","transitionToScanning","hidePausedState","isVideoPaused","onVideoResume","toStoppedStateTransaction","removeQrRegion","childElement","onAllTracksClosed","tracksToClose","tracksClosed","videoTrack","scanFile","imageFile","showImage","scanFileV2","html5qrcodeResult","possiblyCloseLastScanImageFile","inputImage","onload","imageWidth","imageHeight","containerWidth","containerHeight","max","clientHeight","computeCanvasDrawConfig","visibleCanvas","createCanvasElement","context_1","hiddenCanvas","onerror","onabort","onstalled","onsuspend","clear","getCameras","getCamerasFromMediaDevices","mst","MediaStreamTrack","getSources","getCamerasFromMediaStreamTrack","isHttpsOrLocalhost","host","getRunningTrackCapabilities","getCapabilities","applyVideoConstraints","videoConstaints","closeActiveStreams","tracks","tracks_1","track","enabled","devices","results","devices_1","device","err","name","callback","sourceInfos","sourceInfos_1","sourceInfo","allFormats","formatsToSupport","isArray","supportedFormats","validateQrboxSize","viewfinderWidth","viewfinderHeight","qrboxSize","validateQrboxConfig","qrDimensions","toQrdimensions","validateMinSize","size","correctWidthBasedOnRootElementSize","configWidth","undefined","setupUi","shouldShadingBeApplied","defaultQrRegion","getShadedRegionBounds","append","possiblyInsertShadingElement","createScannerPausedUiElement","rootElement","innerText","zIndex","background","textAlign","scanContext","possiblyUpdateShaders","foreverScan","widthRatio","heightRatio","sWidthOffset","sHeightOffset","sxOffset","syOffset","triggerNextScan","getTimeoutFps","isSuccessfull","translate","scale","mediaStream","setupVideo","createVideoElement","onVideoStart","constraints","facingModeKey","deviceIdKey","allowedFacingModeValues_1","exactKey","isValidFacingModeValue","type_2","type_1","xoffset","yoffset","formerImageWidth","formerImageHeight","shader","backgroundColor","customId","canvasWidth","canvasHeight","shadingElement","rightLeftBorderSize","topBottomBorderSize","borderLeft","borderRight","borderTop","borderBottom","boxSizing","bottom","right","smallSize","largeSize","insertShaderBorders","shaderElem","side","isLeft","elem","SVG_XML_PREFIX","ASSET_CAMERA_SCAN","ASSET_FILE_SCAN","ASSET_INFO_ICON_16PX","ASSET_CLOSE_ICON_16PX","PersistedDataFactory","createDefault","hasPermission","lastUsedCameraId","PersistedDataManager","localStorage","getItem","LOCAL_STORAGE_KEY","JSON","parse","reset","hasCameraPermissions","getLastUsedCameraId","setHasPermission","flush","setLastUsedCameraId","resetLastUsedCameraId","setItem","stringify","LibraryInfoDiv","infoDiv","renderInto","parent","padding","border","fontSize","projectLink","href","target","breakElemFirst","breakElemSecond","reportIssueLink","show","hide","LibraryInfoIcon","onTapIn","onTapOut","isShowingInfoIcon","infoIcon","alt","cursor","onmouseover","onHoverIn","onmouseout","onHoverOut","onclick","onClick","LibraryInfoContainer","CameraManager","ScanTypeSelector","supportedScanTypes","validateAndReturnScanTypes","getDefaultScanType","hasMoreThanOneScanType","isCameraScanRequired","scanType","isCameraScanType","isFileScanType","maxExpectedValues","supportedScanTypes_1","toHtml5QrcodeCameraScanConfig","toHtml5QrcodeFullConfig","Html5QrcodeScanner","lastMatchFound","cameraScanImage","fileScanImage","createConfig","scanTypeSelector","currentScanType","sectionSwapAllowed","persistedDataManager","rememberLastUsedCamera","setHeaderMessage","STATUS_SUCCESS","container","createBasicLayout","html5Qrcode","getScanRegionId","emptyHtmlContainer","mainContainer","resetBasicLayout","createHeader","qrCodeScanRegion","scanRegionId","minHeight","insertCameraScanImageToScanRegion","insertFileScanImageToScanRegion","qrCodeDashboard","dashboardId","getDashboardId","setupInitialDashboard","dashboard","createSection","createSectionControlPanel","createSectionSwap","header","margin","libraryInfo","headerMessageContainer","getHeaderMessageContainerId","section","getDashboardSectionId","createCameraListUi","scpCameraScanRegion","requestPermissionContainer","requestPermissionButton","createPermissionButtonIfNotExists","createPermissionButton","cameras","resetHeaderMessage","renderCameraSelection","STATUS_WARNING","disabled","getCameraPermissionButtonId","createPermissionsUi","hasPermissions","sectionControlPanel","getDashboardSectionCameraScanRegionId","renderFileScanUi","fileBasedScanRegion","getDashboardSectionFileScanRegionId","fileScanInput","getFileScanInputId","accept","fileScanLabel","files","file","cameraSelectionContainer","marginRight","numCameras","cameraSelectionSelect","selectCameraString","getCameraSelectionId","options","cameras_1","camera","name_1","option","cameraActionContainer","cameraActionStartButton","cameraActionStopButton","resetCameraActionStartButton","shouldShow","showHideScanTypeSwapLink","cameraId","click","cameraFound","options_1","TEXT_IF_CAMERA_SCAN_SELECTED","TEXT_IF_FILE_SCAN_SELECTED","switchContainer","switchScanTypeLink","textDecoration","getDashboardSectionSwapLinkId","getFileScanInput","clearScanRegion","getCameraScanRegion","getFileScanRegion","startCameraScanIfPermissionExistsOnSwap","permissionButton","messageDiv","messageText","scannerStatus","STATUS_DEFAULT","getHeaderMessageDiv","color","shouldDisplay","getDashboardSectionSwapLink","getStatusSpanId","loading","isIos","countIos","streamOn","methods","scanQR","alert","legacyApi","checkCamera","startScanner","that","html5QrCode","mounted","component"],"mappings":"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","file":"js/page-absen-index~31ecd969.24e3da45.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"py-4 px-2 shadow\"},[_c('p',{staticClass:\"mt-1 font-semibold text-lg float-right mr-3\"},[_vm._v(\"QR Scanner\")]),_c('button',{staticClass:\"btn btn-sm btn-dark-outline ml-2 rounded-circle px-2\",staticStyle:{\"border\":\"1px solid black\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('span',{staticClass:\"typcn typcn-arrow-left\"})])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('br'),_c('br'),_c('br'),_c('div',{staticClass:\"mt-12\",staticStyle:{\"height\":\"350px\",\"width\":\"100vw\"},attrs:{\"id\":\"reader\"}})])}]\n\nexport { render, staticRenderFns }","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");return!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")?new BarcodeDetector({formats:[\"qr_code\"]}):import(\"./qr-scanner-worker.min.js\").then(b=>b.createWorker())}_onPlay(){this._scanRegion=\nthis._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,\ndownScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,m=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=\nparseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&\nb.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,\n{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",\n`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",c.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\n\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\n\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),a.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\n\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?b.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof\nImage)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof File||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof\nBlob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?c(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;\nlet f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n//# sourceMappingURL=qr-scanner.min.js.map\n","export var Html5QrcodeSupportedFormats;\n(function (Html5QrcodeSupportedFormats) {\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"QR_CODE\"] = 0] = \"QR_CODE\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"AZTEC\"] = 1] = \"AZTEC\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"CODABAR\"] = 2] = \"CODABAR\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"CODE_39\"] = 3] = \"CODE_39\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"CODE_93\"] = 4] = \"CODE_93\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"CODE_128\"] = 5] = \"CODE_128\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"DATA_MATRIX\"] = 6] = \"DATA_MATRIX\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"MAXICODE\"] = 7] = \"MAXICODE\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"ITF\"] = 8] = \"ITF\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"EAN_13\"] = 9] = \"EAN_13\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"EAN_8\"] = 10] = \"EAN_8\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"PDF_417\"] = 11] = \"PDF_417\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"RSS_14\"] = 12] = \"RSS_14\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"RSS_EXPANDED\"] = 13] = \"RSS_EXPANDED\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"UPC_A\"] = 14] = \"UPC_A\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"UPC_E\"] = 15] = \"UPC_E\";\n    Html5QrcodeSupportedFormats[Html5QrcodeSupportedFormats[\"UPC_EAN_EXTENSION\"] = 16] = \"UPC_EAN_EXTENSION\";\n})(Html5QrcodeSupportedFormats || (Html5QrcodeSupportedFormats = {}));\nvar html5QrcodeSupportedFormatsTextMap = new Map([\n    [Html5QrcodeSupportedFormats.QR_CODE, \"QR_CODE\"],\n    [Html5QrcodeSupportedFormats.AZTEC, \"AZTEC\"],\n    [Html5QrcodeSupportedFormats.CODABAR, \"CODABAR\"],\n    [Html5QrcodeSupportedFormats.CODE_39, \"CODE_39\"],\n    [Html5QrcodeSupportedFormats.CODE_93, \"CODE_93\"],\n    [Html5QrcodeSupportedFormats.CODE_128, \"CODE_128\"],\n    [Html5QrcodeSupportedFormats.DATA_MATRIX, \"DATA_MATRIX\"],\n    [Html5QrcodeSupportedFormats.MAXICODE, \"MAXICODE\"],\n    [Html5QrcodeSupportedFormats.ITF, \"ITF\"],\n    [Html5QrcodeSupportedFormats.EAN_13, \"EAN_13\"],\n    [Html5QrcodeSupportedFormats.EAN_8, \"EAN_8\"],\n    [Html5QrcodeSupportedFormats.PDF_417, \"PDF_417\"],\n    [Html5QrcodeSupportedFormats.RSS_14, \"RSS_14\"],\n    [Html5QrcodeSupportedFormats.RSS_EXPANDED, \"RSS_EXPANDED\"],\n    [Html5QrcodeSupportedFormats.UPC_A, \"UPC_A\"],\n    [Html5QrcodeSupportedFormats.UPC_E, \"UPC_E\"],\n    [Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION, \"UPC_EAN_EXTENSION\"]\n]);\nexport var DecodedTextType;\n(function (DecodedTextType) {\n    DecodedTextType[DecodedTextType[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    DecodedTextType[DecodedTextType[\"URL\"] = 1] = \"URL\";\n})(DecodedTextType || (DecodedTextType = {}));\nexport function isValidHtml5QrcodeSupportedFormats(format) {\n    return Object.values(Html5QrcodeSupportedFormats).includes(format);\n}\nexport var Html5QrcodeScanType;\n(function (Html5QrcodeScanType) {\n    Html5QrcodeScanType[Html5QrcodeScanType[\"SCAN_TYPE_CAMERA\"] = 0] = \"SCAN_TYPE_CAMERA\";\n    Html5QrcodeScanType[Html5QrcodeScanType[\"SCAN_TYPE_FILE\"] = 1] = \"SCAN_TYPE_FILE\";\n})(Html5QrcodeScanType || (Html5QrcodeScanType = {}));\nvar Html5QrcodeConstants = (function () {\n    function Html5QrcodeConstants() {\n    }\n    Html5QrcodeConstants.GITHUB_PROJECT_URL = \"https://github.com/mebjas/html5-qrcode\";\n    Html5QrcodeConstants.SCAN_DEFAULT_FPS = 2;\n    Html5QrcodeConstants.DEFAULT_DISABLE_FLIP = false;\n    Html5QrcodeConstants.DEFAULT_REMEMBER_LAST_CAMERA_USED = true;\n    Html5QrcodeConstants.DEFAULT_SUPPORTED_SCAN_TYPE = [\n        Html5QrcodeScanType.SCAN_TYPE_CAMERA,\n        Html5QrcodeScanType.SCAN_TYPE_FILE\n    ];\n    return Html5QrcodeConstants;\n}());\nexport { Html5QrcodeConstants };\nvar QrcodeResultFormat = (function () {\n    function QrcodeResultFormat(format, formatName) {\n        this.format = format;\n        this.formatName = formatName;\n    }\n    QrcodeResultFormat.prototype.toString = function () {\n        return this.formatName;\n    };\n    QrcodeResultFormat.create = function (format) {\n        if (!html5QrcodeSupportedFormatsTextMap.has(format)) {\n            throw format + \" not in html5QrcodeSupportedFormatsTextMap\";\n        }\n        return new QrcodeResultFormat(format, html5QrcodeSupportedFormatsTextMap.get(format));\n    };\n    return QrcodeResultFormat;\n}());\nexport { QrcodeResultFormat };\nvar Html5QrcodeResultFactory = (function () {\n    function Html5QrcodeResultFactory() {\n    }\n    Html5QrcodeResultFactory.createFromText = function (decodedText) {\n        var qrcodeResult = {\n            text: decodedText\n        };\n        return {\n            decodedText: decodedText,\n            result: qrcodeResult\n        };\n    };\n    Html5QrcodeResultFactory.createFromQrcodeResult = function (qrcodeResult) {\n        return {\n            decodedText: qrcodeResult.text,\n            result: qrcodeResult\n        };\n    };\n    return Html5QrcodeResultFactory;\n}());\nexport { Html5QrcodeResultFactory };\nexport var Html5QrcodeErrorTypes;\n(function (Html5QrcodeErrorTypes) {\n    Html5QrcodeErrorTypes[Html5QrcodeErrorTypes[\"UNKWOWN_ERROR\"] = 0] = \"UNKWOWN_ERROR\";\n    Html5QrcodeErrorTypes[Html5QrcodeErrorTypes[\"IMPLEMENTATION_ERROR\"] = 1] = \"IMPLEMENTATION_ERROR\";\n    Html5QrcodeErrorTypes[Html5QrcodeErrorTypes[\"NO_CODE_FOUND_ERROR\"] = 2] = \"NO_CODE_FOUND_ERROR\";\n})(Html5QrcodeErrorTypes || (Html5QrcodeErrorTypes = {}));\nvar Html5QrcodeErrorFactory = (function () {\n    function Html5QrcodeErrorFactory() {\n    }\n    Html5QrcodeErrorFactory.createFrom = function (error) {\n        return {\n            errorMessage: error,\n            type: Html5QrcodeErrorTypes.UNKWOWN_ERROR\n        };\n    };\n    return Html5QrcodeErrorFactory;\n}());\nexport { Html5QrcodeErrorFactory };\nvar BaseLoggger = (function () {\n    function BaseLoggger(verbose) {\n        this.verbose = verbose;\n    }\n    BaseLoggger.prototype.log = function (message) {\n        if (this.verbose) {\n            console.log(message);\n        }\n    };\n    BaseLoggger.prototype.warn = function (message) {\n        if (this.verbose) {\n            console.warn(message);\n        }\n    };\n    BaseLoggger.prototype.logError = function (message, isExperimental) {\n        if (this.verbose || isExperimental === true) {\n            console.error(message);\n        }\n    };\n    BaseLoggger.prototype.logErrors = function (errors) {\n        if (errors.length === 0) {\n            throw \"Logger#logError called without arguments\";\n        }\n        if (this.verbose) {\n            console.error(errors);\n        }\n    };\n    return BaseLoggger;\n}());\nexport { BaseLoggger };\nexport function isNullOrUndefined(obj) {\n    return (typeof obj === \"undefined\") || obj === null;\n}\n//# sourceMappingURL=core.js.map","var Html5QrcodeStrings = (function () {\n    function Html5QrcodeStrings() {\n    }\n    Html5QrcodeStrings.codeParseError = function (exception) {\n        return \"QR code parse error, error = \" + exception;\n    };\n    Html5QrcodeStrings.errorGettingUserMedia = function (error) {\n        return \"Error getting userMedia, error = \" + error;\n    };\n    Html5QrcodeStrings.onlyDeviceSupportedError = function () {\n        return \"The device doesn't support navigator.mediaDevices , only \"\n            + \"supported cameraIdOrConfig in this case is deviceId parameter \"\n            + \"(string).\";\n    };\n    Html5QrcodeStrings.cameraStreamingNotSupported = function () {\n        return \"Camera streaming not supported by the browser.\";\n    };\n    Html5QrcodeStrings.unableToQuerySupportedDevices = function () {\n        return \"Unable to query supported devices, unknown error.\";\n    };\n    Html5QrcodeStrings.insecureContextCameraQueryError = function () {\n        return \"Camera access is only supported in secure context like https \"\n            + \"or localhost.\";\n    };\n    return Html5QrcodeStrings;\n}());\nexport { Html5QrcodeStrings };\nvar Html5QrcodeScannerStrings = (function () {\n    function Html5QrcodeScannerStrings() {\n    }\n    Html5QrcodeScannerStrings.scanningStatus = function () {\n        return \"Scanning\";\n    };\n    Html5QrcodeScannerStrings.idleStatus = function () {\n        return \"Idle\";\n    };\n    Html5QrcodeScannerStrings.errorStatus = function () {\n        return \"Error\";\n    };\n    Html5QrcodeScannerStrings.permissionStatus = function () {\n        return \"Permission\";\n    };\n    Html5QrcodeScannerStrings.noCameraFoundErrorStatus = function () {\n        return \"No Cameras\";\n    };\n    Html5QrcodeScannerStrings.lastMatch = function (decodedText) {\n        return \"Last Match: \" + decodedText;\n    };\n    Html5QrcodeScannerStrings.codeScannerTitle = function () {\n        return \"Code Scanner\";\n    };\n    Html5QrcodeScannerStrings.cameraPermissionTitle = function () {\n        return \"Request Camera Permissions\";\n    };\n    Html5QrcodeScannerStrings.cameraPermissionRequesting = function () {\n        return \"Requesting camera permissions...\";\n    };\n    Html5QrcodeScannerStrings.noCameraFound = function () {\n        return \"No camera found\";\n    };\n    Html5QrcodeScannerStrings.scanButtonStopScanningText = function () {\n        return \"Stop Scanning\";\n    };\n    Html5QrcodeScannerStrings.scanButtonStartScanningText = function () {\n        return \"Start Scanning\";\n    };\n    Html5QrcodeScannerStrings.scanButtonScanningStarting = function () {\n        return \"Launching Camera...\";\n    };\n    Html5QrcodeScannerStrings.textIfCameraScanSelected = function () {\n        return \"Scan an Image File\";\n    };\n    Html5QrcodeScannerStrings.textIfFileScanSelected = function () {\n        return \"Scan using camera directly\";\n    };\n    Html5QrcodeScannerStrings.selectCamera = function () {\n        return \"Select Camera\";\n    };\n    return Html5QrcodeScannerStrings;\n}());\nexport { Html5QrcodeScannerStrings };\nvar LibraryInfoStrings = (function () {\n    function LibraryInfoStrings() {\n    }\n    LibraryInfoStrings.builtUsing = function () {\n        return \"Built using \";\n    };\n    LibraryInfoStrings.reportIssues = function () {\n        return \"Report issues\";\n    };\n    return LibraryInfoStrings;\n}());\nexport { LibraryInfoStrings };\n//# sourceMappingURL=strings.js.map","export var Html5QrcodeScannerState;\n(function (Html5QrcodeScannerState) {\n    Html5QrcodeScannerState[Html5QrcodeScannerState[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    Html5QrcodeScannerState[Html5QrcodeScannerState[\"NOT_STARTED\"] = 1] = \"NOT_STARTED\";\n    Html5QrcodeScannerState[Html5QrcodeScannerState[\"SCANNING\"] = 2] = \"SCANNING\";\n    Html5QrcodeScannerState[Html5QrcodeScannerState[\"PAUSED\"] = 3] = \"PAUSED\";\n})(Html5QrcodeScannerState || (Html5QrcodeScannerState = {}));\nvar StateManagerImpl = (function () {\n    function StateManagerImpl() {\n        this.state = Html5QrcodeScannerState.NOT_STARTED;\n        this.onGoingTransactionNewState = Html5QrcodeScannerState.UNKNOWN;\n    }\n    StateManagerImpl.prototype.directTransition = function (newState) {\n        this.failIfTransitionOngoing();\n        this.validateTransition(newState);\n        this.state = newState;\n    };\n    StateManagerImpl.prototype.startTransition = function (newState) {\n        this.failIfTransitionOngoing();\n        this.validateTransition(newState);\n        this.onGoingTransactionNewState = newState;\n        return this;\n    };\n    StateManagerImpl.prototype.execute = function () {\n        if (this.onGoingTransactionNewState\n            === Html5QrcodeScannerState.UNKNOWN) {\n            throw \"Transaction is already cancelled, cannot execute().\";\n        }\n        var tempNewState = this.onGoingTransactionNewState;\n        this.onGoingTransactionNewState = Html5QrcodeScannerState.UNKNOWN;\n        this.directTransition(tempNewState);\n    };\n    StateManagerImpl.prototype.cancel = function () {\n        if (this.onGoingTransactionNewState\n            === Html5QrcodeScannerState.UNKNOWN) {\n            throw \"Transaction is already cancelled, cannot cancel().\";\n        }\n        this.onGoingTransactionNewState = Html5QrcodeScannerState.UNKNOWN;\n    };\n    StateManagerImpl.prototype.getState = function () {\n        return this.state;\n    };\n    StateManagerImpl.prototype.failIfTransitionOngoing = function () {\n        if (this.onGoingTransactionNewState\n            !== Html5QrcodeScannerState.UNKNOWN) {\n            throw \"Cannnot transition to a new state, already under transition\";\n        }\n    };\n    StateManagerImpl.prototype.validateTransition = function (newState) {\n        switch (this.state) {\n            case Html5QrcodeScannerState.UNKNOWN:\n                throw \"Transition from unknown is not allowed\";\n            case Html5QrcodeScannerState.NOT_STARTED:\n                this.failIfNewStateIs(newState, [Html5QrcodeScannerState.PAUSED]);\n                break;\n            case Html5QrcodeScannerState.SCANNING:\n                break;\n            case Html5QrcodeScannerState.PAUSED:\n                break;\n        }\n    };\n    StateManagerImpl.prototype.failIfNewStateIs = function (newState, disallowedStatesToTransition) {\n        for (var _i = 0, disallowedStatesToTransition_1 = disallowedStatesToTransition; _i < disallowedStatesToTransition_1.length; _i++) {\n            var disallowedState = disallowedStatesToTransition_1[_i];\n            if (newState === disallowedState) {\n                throw \"Cannot transition from \" + this.state + \" to \" + newState;\n            }\n        }\n    };\n    return StateManagerImpl;\n}());\nvar StateManagerProxy = (function () {\n    function StateManagerProxy(stateManager) {\n        this.stateManager = stateManager;\n    }\n    StateManagerProxy.prototype.startTransition = function (newState) {\n        return this.stateManager.startTransition(newState);\n    };\n    StateManagerProxy.prototype.directTransition = function (newState) {\n        this.stateManager.directTransition(newState);\n    };\n    StateManagerProxy.prototype.getState = function () {\n        return this.stateManager.getState();\n    };\n    StateManagerProxy.prototype.canScanFile = function () {\n        return this.stateManager.getState() === Html5QrcodeScannerState.NOT_STARTED;\n    };\n    StateManagerProxy.prototype.isScanning = function () {\n        return this.stateManager.getState() !== Html5QrcodeScannerState.NOT_STARTED;\n    };\n    StateManagerProxy.prototype.isStrictlyScanning = function () {\n        return this.stateManager.getState() === Html5QrcodeScannerState.SCANNING;\n    };\n    StateManagerProxy.prototype.isPaused = function () {\n        return this.stateManager.getState() === Html5QrcodeScannerState.PAUSED;\n    };\n    return StateManagerProxy;\n}());\nexport { StateManagerProxy };\nvar StateManagerFactory = (function () {\n    function StateManagerFactory() {\n    }\n    StateManagerFactory.create = function () {\n        return new StateManagerProxy(new StateManagerImpl());\n    };\n    return StateManagerFactory;\n}());\nexport { StateManagerFactory };\n//# sourceMappingURL=state-manager.js.map","var VideoConstraintsUtil = (function () {\n    function VideoConstraintsUtil() {\n    }\n    VideoConstraintsUtil.isMediaStreamConstraintsValid = function (videoConstraints, logger) {\n        if (typeof videoConstraints !== \"object\") {\n            var typeofVideoConstraints = typeof videoConstraints;\n            logger.logError(\"videoConstraints should be of type object, the \"\n                + (\"object passed is of type \" + typeofVideoConstraints + \".\"), true);\n            return false;\n        }\n        var bannedKeys = [\n            \"autoGainControl\",\n            \"channelCount\",\n            \"echoCancellation\",\n            \"latency\",\n            \"noiseSuppression\",\n            \"sampleRate\",\n            \"sampleSize\",\n            \"volume\"\n        ];\n        var bannedkeysSet = new Set(bannedKeys);\n        var keysInVideoConstraints = Object.keys(videoConstraints);\n        for (var _i = 0, keysInVideoConstraints_1 = keysInVideoConstraints; _i < keysInVideoConstraints_1.length; _i++) {\n            var key = keysInVideoConstraints_1[_i];\n            if (bannedkeysSet.has(key)) {\n                logger.logError(key + \" is not supported videoConstaints.\", true);\n                return false;\n            }\n        }\n        return true;\n    };\n    return VideoConstraintsUtil;\n}());\nexport { VideoConstraintsUtil };\n//# sourceMappingURL=utils.js.map","import * as ZXing from \"../third_party/zxing-js.umd\";\nimport { QrcodeResultFormat, Html5QrcodeSupportedFormats } from \"./core\";\nvar ZXingHtml5QrcodeDecoder = (function () {\n    function ZXingHtml5QrcodeDecoder(requestedFormats, verbose, logger) {\n        this.formatMap = new Map([\n            [Html5QrcodeSupportedFormats.QR_CODE, ZXing.BarcodeFormat.QR_CODE],\n            [Html5QrcodeSupportedFormats.AZTEC, ZXing.BarcodeFormat.AZTEC],\n            [Html5QrcodeSupportedFormats.CODABAR, ZXing.BarcodeFormat.CODABAR],\n            [Html5QrcodeSupportedFormats.CODE_39, ZXing.BarcodeFormat.CODE_39],\n            [Html5QrcodeSupportedFormats.CODE_93, ZXing.BarcodeFormat.CODE_93],\n            [\n                Html5QrcodeSupportedFormats.CODE_128,\n                ZXing.BarcodeFormat.CODE_128\n            ],\n            [\n                Html5QrcodeSupportedFormats.DATA_MATRIX,\n                ZXing.BarcodeFormat.DATA_MATRIX\n            ],\n            [\n                Html5QrcodeSupportedFormats.MAXICODE,\n                ZXing.BarcodeFormat.MAXICODE\n            ],\n            [Html5QrcodeSupportedFormats.ITF, ZXing.BarcodeFormat.ITF],\n            [Html5QrcodeSupportedFormats.EAN_13, ZXing.BarcodeFormat.EAN_13],\n            [Html5QrcodeSupportedFormats.EAN_8, ZXing.BarcodeFormat.EAN_8],\n            [Html5QrcodeSupportedFormats.PDF_417, ZXing.BarcodeFormat.PDF_417],\n            [Html5QrcodeSupportedFormats.RSS_14, ZXing.BarcodeFormat.RSS_14],\n            [\n                Html5QrcodeSupportedFormats.RSS_EXPANDED,\n                ZXing.BarcodeFormat.RSS_EXPANDED\n            ],\n            [Html5QrcodeSupportedFormats.UPC_A, ZXing.BarcodeFormat.UPC_A],\n            [Html5QrcodeSupportedFormats.UPC_E, ZXing.BarcodeFormat.UPC_E],\n            [\n                Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,\n                ZXing.BarcodeFormat.UPC_EAN_EXTENSION\n            ]\n        ]);\n        this.reverseFormatMap = this.createReverseFormatMap();\n        if (!ZXing) {\n            throw \"Use html5qrcode.min.js without edit, ZXing not found.\";\n        }\n        this.verbose = verbose;\n        this.logger = logger;\n        var formats = this.createZXingFormats(requestedFormats);\n        var hints = new Map();\n        hints.set(ZXing.DecodeHintType.POSSIBLE_FORMATS, formats);\n        this.hints = hints;\n    }\n    ZXingHtml5QrcodeDecoder.prototype.decodeAsync = function (canvas) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                resolve(_this.decode(canvas));\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    };\n    ZXingHtml5QrcodeDecoder.prototype.decode = function (canvas) {\n        var zxingDecoder = new ZXing.MultiFormatReader(this.verbose, this.hints);\n        var luminanceSource = new ZXing.HTMLCanvasElementLuminanceSource(canvas);\n        var binaryBitmap = new ZXing.BinaryBitmap(new ZXing.HybridBinarizer(luminanceSource));\n        var result = zxingDecoder.decode(binaryBitmap);\n        return {\n            text: result.text,\n            format: QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(result.format))\n        };\n    };\n    ZXingHtml5QrcodeDecoder.prototype.createReverseFormatMap = function () {\n        var result = new Map();\n        this.formatMap.forEach(function (value, key, _) {\n            result.set(value, key);\n        });\n        return result;\n    };\n    ZXingHtml5QrcodeDecoder.prototype.toHtml5QrcodeSupportedFormats = function (zxingFormat) {\n        if (!this.reverseFormatMap.has(zxingFormat)) {\n            throw \"reverseFormatMap doesn't have \" + zxingFormat;\n        }\n        return this.reverseFormatMap.get(zxingFormat);\n    };\n    ZXingHtml5QrcodeDecoder.prototype.createZXingFormats = function (requestedFormats) {\n        var zxingFormats = [];\n        for (var _i = 0, requestedFormats_1 = requestedFormats; _i < requestedFormats_1.length; _i++) {\n            var requestedFormat = requestedFormats_1[_i];\n            if (this.formatMap.has(requestedFormat)) {\n                zxingFormats.push(this.formatMap.get(requestedFormat));\n            }\n            else {\n                this.logger.logError(requestedFormat + \" is not supported by\"\n                    + \"ZXingHtml5QrcodeShim\");\n            }\n        }\n        return zxingFormats;\n    };\n    return ZXingHtml5QrcodeDecoder;\n}());\nexport { ZXingHtml5QrcodeDecoder };\n//# sourceMappingURL=zxing-html5-qrcode-decoder.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { QrcodeResultFormat, Html5QrcodeSupportedFormats } from \"./core\";\nvar BarcodeDetectorDelegate = (function () {\n    function BarcodeDetectorDelegate(requestedFormats, verbose, logger) {\n        this.formatMap = new Map([\n            [Html5QrcodeSupportedFormats.QR_CODE, \"qr_code\"],\n            [Html5QrcodeSupportedFormats.AZTEC, \"aztec\"],\n            [Html5QrcodeSupportedFormats.CODABAR, \"codabar\"],\n            [Html5QrcodeSupportedFormats.CODE_39, \"code_39\"],\n            [Html5QrcodeSupportedFormats.CODE_93, \"code_93\"],\n            [Html5QrcodeSupportedFormats.CODE_128, \"code_128\"],\n            [Html5QrcodeSupportedFormats.DATA_MATRIX, \"data_matrix\"],\n            [Html5QrcodeSupportedFormats.ITF, \"itf\"],\n            [Html5QrcodeSupportedFormats.EAN_13, \"ean_13\"],\n            [Html5QrcodeSupportedFormats.EAN_8, \"ean_8\"],\n            [Html5QrcodeSupportedFormats.PDF_417, \"pdf417\"],\n            [Html5QrcodeSupportedFormats.UPC_A, \"upc_a\"],\n            [Html5QrcodeSupportedFormats.UPC_E, \"upc_e\"]\n        ]);\n        this.reverseFormatMap = this.createReverseFormatMap();\n        if (!BarcodeDetectorDelegate.isSupported()) {\n            throw \"Use html5qrcode.min.js without edit, Use \"\n                + \"BarcodeDetectorDelegate only if it isSupported();\";\n        }\n        this.verbose = verbose;\n        this.logger = logger;\n        var formats = this.createBarcodeDetectorFormats(requestedFormats);\n        this.detector = new BarcodeDetector(formats);\n        if (!this.detector) {\n            throw \"BarcodeDetector detector not supported\";\n        }\n    }\n    BarcodeDetectorDelegate.isSupported = function () {\n        if (!(\"BarcodeDetector\" in window)) {\n            return false;\n        }\n        var dummyDetector = new BarcodeDetector({ formats: [\"qr_code\"] });\n        return typeof dummyDetector !== \"undefined\";\n    };\n    BarcodeDetectorDelegate.prototype.decodeAsync = function (canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var barcodes, largestBarcode;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.detector.detect(canvas)];\n                    case 1:\n                        barcodes = _a.sent();\n                        if (!barcodes || barcodes.length === 0) {\n                            throw \"No barcode or QR code detected.\";\n                        }\n                        largestBarcode = this.selectLargestBarcode(barcodes);\n                        return [2, {\n                                text: largestBarcode.rawValue,\n                                format: QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(largestBarcode.format))\n                            }];\n                }\n            });\n        });\n    };\n    BarcodeDetectorDelegate.prototype.selectLargestBarcode = function (barcodes) {\n        var largestBarcode = null;\n        var maxArea = 0;\n        for (var _i = 0, barcodes_1 = barcodes; _i < barcodes_1.length; _i++) {\n            var barcode = barcodes_1[_i];\n            var area = barcode.boundingBox.width * barcode.boundingBox.height;\n            if (area > maxArea) {\n                maxArea = area;\n                largestBarcode = barcode;\n            }\n        }\n        if (!largestBarcode) {\n            throw \"No largest barcode found\";\n        }\n        return largestBarcode;\n    };\n    BarcodeDetectorDelegate.prototype.createBarcodeDetectorFormats = function (requestedFormats) {\n        var formats = [];\n        for (var _i = 0, requestedFormats_1 = requestedFormats; _i < requestedFormats_1.length; _i++) {\n            var requestedFormat = requestedFormats_1[_i];\n            if (this.formatMap.has(requestedFormat)) {\n                formats.push(this.formatMap.get(requestedFormat));\n            }\n            else {\n                this.logger.warn(requestedFormat + \" is not supported by\"\n                    + \"BarcodeDetectorDelegate\");\n            }\n        }\n        return { formats: formats };\n    };\n    BarcodeDetectorDelegate.prototype.toHtml5QrcodeSupportedFormats = function (barcodeDetectorFormat) {\n        if (!this.reverseFormatMap.has(barcodeDetectorFormat)) {\n            throw \"reverseFormatMap doesn't have \" + barcodeDetectorFormat;\n        }\n        return this.reverseFormatMap.get(barcodeDetectorFormat);\n    };\n    BarcodeDetectorDelegate.prototype.createReverseFormatMap = function () {\n        var result = new Map();\n        this.formatMap.forEach(function (value, key, _) {\n            result.set(value, key);\n        });\n        return result;\n    };\n    return BarcodeDetectorDelegate;\n}());\nexport { BarcodeDetectorDelegate };\n//# sourceMappingURL=native-bar-code-detector.js.map","import { ZXingHtml5QrcodeDecoder } from \"./zxing-html5-qrcode-decoder\";\nimport { BarcodeDetectorDelegate } from \"./native-bar-code-detector\";\nvar Html5QrcodeShim = (function () {\n    function Html5QrcodeShim(requestedFormats, verbose, logger, experimentalFeatureConfig) {\n        this.EXECUTIONS_TO_REPORT_PERFORMANCE = 100;\n        this.executions = 0;\n        this.executionResults = [];\n        this.verbose = verbose;\n        if (experimentalFeatureConfig.useBarCodeDetectorIfSupported === true\n            && BarcodeDetectorDelegate.isSupported()) {\n            this.decoder = new BarcodeDetectorDelegate(requestedFormats, verbose, logger);\n        }\n        else {\n            this.decoder = new ZXingHtml5QrcodeDecoder(requestedFormats, verbose, logger);\n        }\n    }\n    Html5QrcodeShim.prototype.decodeAsync = function (canvas) {\n        var _this = this;\n        var start = performance.now();\n        return this.decoder.decodeAsync(canvas).finally(function () {\n            if (_this.verbose) {\n                var executionTime = performance.now() - start;\n                _this.executionResults.push(executionTime);\n                _this.executions++;\n                _this.possiblyFlushPerformanceReport();\n            }\n        });\n    };\n    Html5QrcodeShim.prototype.possiblyFlushPerformanceReport = function () {\n        if (this.executions < this.EXECUTIONS_TO_REPORT_PERFORMANCE) {\n            return;\n        }\n        var sum = 0;\n        for (var _i = 0, _a = this.executionResults; _i < _a.length; _i++) {\n            var executionTime = _a[_i];\n            sum += executionTime;\n        }\n        var mean = sum / this.executionResults.length;\n        console.log(mean + \" ms for \" + this.executionResults.length + \" last runs.\");\n        this.executions = 0;\n        this.executionResults = [];\n    };\n    return Html5QrcodeShim;\n}());\nexport { Html5QrcodeShim };\n//# sourceMappingURL=code-decoder.js.map","var ExperimentalFeaturesConfigFactory = (function () {\n    function ExperimentalFeaturesConfigFactory() {\n    }\n    ExperimentalFeaturesConfigFactory.createExperimentalFeaturesConfig = function (config) {\n        if (!config) {\n            return {\n                useBarCodeDetectorIfSupported: false\n            };\n        }\n        if (config.useBarCodeDetectorIfSupported !== true) {\n            config.useBarCodeDetectorIfSupported = false;\n        }\n        return config;\n    };\n    return ExperimentalFeaturesConfigFactory;\n}());\nexport { ExperimentalFeaturesConfigFactory };\n//# sourceMappingURL=experimental-features.js.map","import { Html5QrcodeConstants, Html5QrcodeScanType, Html5QrcodeErrorFactory, BaseLoggger, isNullOrUndefined, } from \"./core\";\nimport { Html5Qrcode, } from \"./html5-qrcode\";\nimport { Html5QrcodeScannerStrings, } from \"./strings\";\nimport { ASSET_FILE_SCAN, ASSET_CAMERA_SCAN, } from \"./image-assets\";\nimport { PersistedDataManager } from \"./storage\";\nimport { LibraryInfoContainer } from \"./ui\";\nimport { CameraManager } from \"./camera\";\nimport { ScanTypeSelector } from \"./ui/scanner/scan-type-selector\";\nvar Html5QrcodeScannerStatus;\n(function (Html5QrcodeScannerStatus) {\n    Html5QrcodeScannerStatus[Html5QrcodeScannerStatus[\"STATUS_DEFAULT\"] = 0] = \"STATUS_DEFAULT\";\n    Html5QrcodeScannerStatus[Html5QrcodeScannerStatus[\"STATUS_SUCCESS\"] = 1] = \"STATUS_SUCCESS\";\n    Html5QrcodeScannerStatus[Html5QrcodeScannerStatus[\"STATUS_WARNING\"] = 2] = \"STATUS_WARNING\";\n    Html5QrcodeScannerStatus[Html5QrcodeScannerStatus[\"STATUS_REQUESTING_PERMISSION\"] = 3] = \"STATUS_REQUESTING_PERMISSION\";\n})(Html5QrcodeScannerStatus || (Html5QrcodeScannerStatus = {}));\nfunction toHtml5QrcodeCameraScanConfig(config) {\n    return {\n        fps: config.fps,\n        qrbox: config.qrbox,\n        aspectRatio: config.aspectRatio,\n        disableFlip: config.disableFlip,\n        videoConstraints: config.videoConstraints\n    };\n}\nfunction toHtml5QrcodeFullConfig(config, verbose) {\n    return {\n        formatsToSupport: config.formatsToSupport,\n        experimentalFeatures: config.experimentalFeatures,\n        verbose: verbose\n    };\n}\nvar Html5QrcodeScanner = (function () {\n    function Html5QrcodeScanner(elementId, config, verbose) {\n        this.lastMatchFound = null;\n        this.cameraScanImage = null;\n        this.fileScanImage = null;\n        this.elementId = elementId;\n        this.config = this.createConfig(config);\n        this.verbose = verbose === true;\n        if (!document.getElementById(elementId)) {\n            throw \"HTML Element with id=\" + elementId + \" not found\";\n        }\n        this.scanTypeSelector = new ScanTypeSelector(this.config.supportedScanTypes);\n        this.currentScanType = this.scanTypeSelector.getDefaultScanType();\n        this.sectionSwapAllowed = true;\n        this.logger = new BaseLoggger(this.verbose);\n        this.persistedDataManager = new PersistedDataManager();\n        if (config.rememberLastUsedCamera !== true) {\n            this.persistedDataManager.reset();\n        }\n    }\n    Html5QrcodeScanner.prototype.render = function (qrCodeSuccessCallback, qrCodeErrorCallback) {\n        var _this = this;\n        this.lastMatchFound = null;\n        this.qrCodeSuccessCallback\n            = function (decodedText, result) {\n                if (qrCodeSuccessCallback) {\n                    qrCodeSuccessCallback(decodedText, result);\n                }\n                else {\n                    if (_this.lastMatchFound === decodedText) {\n                        return;\n                    }\n                    _this.lastMatchFound = decodedText;\n                    _this.setHeaderMessage(Html5QrcodeScannerStrings.lastMatch(decodedText), Html5QrcodeScannerStatus.STATUS_SUCCESS);\n                }\n            };\n        this.qrCodeErrorCallback =\n            function (errorMessage, error) {\n                if (qrCodeErrorCallback) {\n                    qrCodeErrorCallback(errorMessage, error);\n                }\n            };\n        var container = document.getElementById(this.elementId);\n        if (!container) {\n            throw \"HTML Element with id=\" + this.elementId + \" not found\";\n        }\n        container.innerHTML = \"\";\n        this.createBasicLayout(container);\n        this.html5Qrcode = new Html5Qrcode(this.getScanRegionId(), toHtml5QrcodeFullConfig(this.config, this.verbose));\n    };\n    Html5QrcodeScanner.prototype.pause = function (shouldPauseVideo) {\n        if (!this.html5Qrcode) {\n            throw \"Code scanner not initialized.\";\n        }\n        if (isNullOrUndefined(shouldPauseVideo) || shouldPauseVideo !== true) {\n            shouldPauseVideo = false;\n        }\n        this.html5Qrcode.pause(shouldPauseVideo);\n    };\n    Html5QrcodeScanner.prototype.resume = function () {\n        if (!this.html5Qrcode) {\n            throw \"Code scanner not initialized.\";\n        }\n        this.html5Qrcode.resume();\n    };\n    Html5QrcodeScanner.prototype.getState = function () {\n        if (!this.html5Qrcode) {\n            throw \"Code scanner not initialized.\";\n        }\n        return this.html5Qrcode.getState();\n    };\n    Html5QrcodeScanner.prototype.clear = function () {\n        var _this = this;\n        var emptyHtmlContainer = function () {\n            var mainContainer = document.getElementById(_this.elementId);\n            if (mainContainer) {\n                mainContainer.innerHTML = \"\";\n                _this.resetBasicLayout(mainContainer);\n            }\n        };\n        if (this.html5Qrcode) {\n            return new Promise(function (resolve, reject) {\n                if (!_this.html5Qrcode) {\n                    resolve();\n                    return;\n                }\n                if (_this.html5Qrcode.isScanning) {\n                    _this.html5Qrcode.stop().then(function (_) {\n                        if (!_this.html5Qrcode) {\n                            resolve();\n                            return;\n                        }\n                        _this.html5Qrcode.clear();\n                        emptyHtmlContainer();\n                        resolve();\n                    }).catch(function (error) {\n                        if (_this.verbose) {\n                            _this.logger.logError(\"Unable to stop qrcode scanner\", error);\n                        }\n                        reject(error);\n                    });\n                }\n                else {\n                    _this.html5Qrcode.clear();\n                    emptyHtmlContainer();\n                }\n            });\n        }\n        return Promise.resolve();\n    };\n    Html5QrcodeScanner.prototype.getRunningTrackCapabilities = function () {\n        if (!this.html5Qrcode) {\n            throw \"Code scanner not initialized.\";\n        }\n        return this.html5Qrcode.getRunningTrackCapabilities();\n    };\n    Html5QrcodeScanner.prototype.applyVideoConstraints = function (videoConstaints) {\n        if (!this.html5Qrcode) {\n            throw \"Code scanner not initialized.\";\n        }\n        return this.html5Qrcode.applyVideoConstraints(videoConstaints);\n    };\n    Html5QrcodeScanner.prototype.createConfig = function (config) {\n        if (config) {\n            if (!config.fps) {\n                config.fps = Html5QrcodeConstants.SCAN_DEFAULT_FPS;\n            }\n            if (config.rememberLastUsedCamera !== (!Html5QrcodeConstants.DEFAULT_REMEMBER_LAST_CAMERA_USED)) {\n                config.rememberLastUsedCamera\n                    = Html5QrcodeConstants.DEFAULT_REMEMBER_LAST_CAMERA_USED;\n            }\n            return config;\n        }\n        return {\n            fps: Html5QrcodeConstants.SCAN_DEFAULT_FPS,\n            rememberLastUsedCamera: Html5QrcodeConstants.DEFAULT_REMEMBER_LAST_CAMERA_USED,\n            supportedScanTypes: Html5QrcodeConstants.DEFAULT_SUPPORTED_SCAN_TYPE\n        };\n    };\n    Html5QrcodeScanner.prototype.createBasicLayout = function (parent) {\n        parent.style.position = \"relative\";\n        parent.style.padding = \"0px\";\n        parent.style.border = \"1px solid silver\";\n        this.createHeader(parent);\n        var qrCodeScanRegion = document.createElement(\"div\");\n        var scanRegionId = this.getScanRegionId();\n        qrCodeScanRegion.id = scanRegionId;\n        qrCodeScanRegion.style.width = \"100%\";\n        qrCodeScanRegion.style.minHeight = \"100px\";\n        qrCodeScanRegion.style.textAlign = \"center\";\n        parent.appendChild(qrCodeScanRegion);\n        if (ScanTypeSelector.isCameraScanType(this.currentScanType)) {\n            this.insertCameraScanImageToScanRegion();\n        }\n        else {\n            this.insertFileScanImageToScanRegion();\n        }\n        var qrCodeDashboard = document.createElement(\"div\");\n        var dashboardId = this.getDashboardId();\n        qrCodeDashboard.id = dashboardId;\n        qrCodeDashboard.style.width = \"100%\";\n        parent.appendChild(qrCodeDashboard);\n        this.setupInitialDashboard(qrCodeDashboard);\n    };\n    Html5QrcodeScanner.prototype.resetBasicLayout = function (mainContainer) {\n        mainContainer.style.border = \"none\";\n    };\n    Html5QrcodeScanner.prototype.setupInitialDashboard = function (dashboard) {\n        var $this = this;\n        this.createSection(dashboard);\n        this.createSectionControlPanel();\n        if (this.scanTypeSelector.hasMoreThanOneScanType()) {\n            this.createSectionSwap();\n        }\n    };\n    Html5QrcodeScanner.prototype.createHeader = function (dashboard) {\n        var header = document.createElement(\"div\");\n        header.style.textAlign = \"left\";\n        header.style.margin = \"0px\";\n        dashboard.appendChild(header);\n        var libraryInfo = new LibraryInfoContainer();\n        libraryInfo.renderInto(header);\n        var headerMessageContainer = document.createElement(\"div\");\n        headerMessageContainer.id = this.getHeaderMessageContainerId();\n        headerMessageContainer.style.display = \"none\";\n        headerMessageContainer.style.textAlign = \"center\";\n        headerMessageContainer.style.fontSize = \"14px\";\n        headerMessageContainer.style.padding = \"2px 10px\";\n        headerMessageContainer.style.margin = \"4px\";\n        headerMessageContainer.style.borderTop = \"1px solid #f6f6f6\";\n        header.appendChild(headerMessageContainer);\n    };\n    Html5QrcodeScanner.prototype.createSection = function (dashboard) {\n        var section = document.createElement(\"div\");\n        section.id = this.getDashboardSectionId();\n        section.style.width = \"100%\";\n        section.style.padding = \"10px 0px 10px 0px\";\n        section.style.textAlign = \"left\";\n        dashboard.appendChild(section);\n    };\n    Html5QrcodeScanner.prototype.createCameraListUi = function (scpCameraScanRegion, requestPermissionContainer, requestPermissionButton) {\n        var $this = this;\n        $this.setHeaderMessage(Html5QrcodeScannerStrings.cameraPermissionRequesting());\n        var createPermissionButtonIfNotExists = function () {\n            if (!requestPermissionButton) {\n                $this.createPermissionButton(scpCameraScanRegion, requestPermissionContainer);\n            }\n        };\n        Html5Qrcode.getCameras().then(function (cameras) {\n            $this.persistedDataManager.setHasPermission(true);\n            $this.resetHeaderMessage();\n            if (cameras && cameras.length > 0) {\n                scpCameraScanRegion.removeChild(requestPermissionContainer);\n                $this.renderCameraSelection(cameras);\n            }\n            else {\n                $this.setHeaderMessage(Html5QrcodeScannerStrings.noCameraFound(), Html5QrcodeScannerStatus.STATUS_WARNING);\n                createPermissionButtonIfNotExists();\n            }\n        }).catch(function (error) {\n            $this.persistedDataManager.setHasPermission(false);\n            if (requestPermissionButton) {\n                requestPermissionButton.disabled = false;\n            }\n            else {\n                createPermissionButtonIfNotExists();\n            }\n            $this.setHeaderMessage(error, Html5QrcodeScannerStatus.STATUS_WARNING);\n        });\n    };\n    Html5QrcodeScanner.prototype.createPermissionButton = function (scpCameraScanRegion, requestPermissionContainer) {\n        var $this = this;\n        var requestPermissionButton = document.createElement(\"button\");\n        requestPermissionButton.id = this.getCameraPermissionButtonId();\n        requestPermissionButton.innerText\n            = Html5QrcodeScannerStrings.cameraPermissionTitle();\n        requestPermissionButton.addEventListener(\"click\", function () {\n            requestPermissionButton.disabled = true;\n            $this.createCameraListUi(scpCameraScanRegion, requestPermissionContainer, requestPermissionButton);\n        });\n        requestPermissionContainer.appendChild(requestPermissionButton);\n    };\n    Html5QrcodeScanner.prototype.createPermissionsUi = function (scpCameraScanRegion, requestPermissionContainer) {\n        var $this = this;\n        if (ScanTypeSelector.isCameraScanType(this.currentScanType)\n            && this.persistedDataManager.hasCameraPermissions()) {\n            CameraManager.hasCameraPermissions().then(function (hasPermissions) {\n                if (hasPermissions) {\n                    $this.createCameraListUi(scpCameraScanRegion, requestPermissionContainer);\n                }\n                else {\n                    $this.persistedDataManager.setHasPermission(false);\n                    $this.createPermissionButton(scpCameraScanRegion, requestPermissionContainer);\n                }\n            }).catch(function (_) {\n                $this.persistedDataManager.setHasPermission(false);\n                $this.createPermissionButton(scpCameraScanRegion, requestPermissionContainer);\n            });\n            return;\n        }\n        this.createPermissionButton(scpCameraScanRegion, requestPermissionContainer);\n    };\n    Html5QrcodeScanner.prototype.createSectionControlPanel = function () {\n        var $this = this;\n        var section = document.getElementById(this.getDashboardSectionId());\n        var sectionControlPanel = document.createElement(\"div\");\n        section.appendChild(sectionControlPanel);\n        var scpCameraScanRegion = document.createElement(\"div\");\n        scpCameraScanRegion.id = this.getDashboardSectionCameraScanRegionId();\n        scpCameraScanRegion.style.display\n            = ScanTypeSelector.isCameraScanType(this.currentScanType)\n                ? \"block\" : \"none\";\n        sectionControlPanel.appendChild(scpCameraScanRegion);\n        var requestPermissionContainer = document.createElement(\"div\");\n        requestPermissionContainer.style.textAlign = \"center\";\n        scpCameraScanRegion.appendChild(requestPermissionContainer);\n        if (this.scanTypeSelector.isCameraScanRequired()) {\n            this.createPermissionsUi(scpCameraScanRegion, requestPermissionContainer);\n        }\n        this.renderFileScanUi(sectionControlPanel);\n    };\n    Html5QrcodeScanner.prototype.renderFileScanUi = function (parent) {\n        var $this = this;\n        var fileBasedScanRegion = document.createElement(\"div\");\n        fileBasedScanRegion.id = this.getDashboardSectionFileScanRegionId();\n        fileBasedScanRegion.style.textAlign = \"center\";\n        fileBasedScanRegion.style.display\n            = ScanTypeSelector.isCameraScanType(this.currentScanType)\n                ? \"none\" : \"block\";\n        parent.appendChild(fileBasedScanRegion);\n        var fileScanInput = document.createElement(\"input\");\n        fileScanInput.id = this.getFileScanInputId();\n        fileScanInput.accept = \"image/*\";\n        fileScanInput.type = \"file\";\n        fileScanInput.style.width = \"200px\";\n        fileScanInput.disabled\n            = ScanTypeSelector.isCameraScanType(this.currentScanType);\n        var fileScanLabel = document.createElement(\"span\");\n        fileScanLabel.innerText = \" Select Image\";\n        fileBasedScanRegion.appendChild(fileScanInput);\n        fileBasedScanRegion.appendChild(fileScanLabel);\n        fileScanInput.addEventListener(\"change\", function (e) {\n            if (!$this.html5Qrcode) {\n                throw \"html5Qrcode not defined\";\n            }\n            if (e == null || e.target == null) {\n                return;\n            }\n            if (!ScanTypeSelector.isFileScanType($this.currentScanType)) {\n                return;\n            }\n            if (e.target.files.length === 0) {\n                return;\n            }\n            var file = e.target.files[0];\n            $this.html5Qrcode.scanFileV2(file, true)\n                .then(function (html5qrcodeResult) {\n                $this.resetHeaderMessage();\n                $this.qrCodeSuccessCallback(html5qrcodeResult.decodedText, html5qrcodeResult);\n            })\n                .catch(function (error) {\n                $this.setHeaderMessage(error, Html5QrcodeScannerStatus.STATUS_WARNING);\n                $this.qrCodeErrorCallback(error, Html5QrcodeErrorFactory.createFrom(error));\n            });\n        });\n    };\n    Html5QrcodeScanner.prototype.renderCameraSelection = function (cameras) {\n        var _this = this;\n        var $this = this;\n        var scpCameraScanRegion = document.getElementById(this.getDashboardSectionCameraScanRegionId());\n        scpCameraScanRegion.style.textAlign = \"center\";\n        var cameraSelectionContainer = document.createElement(\"span\");\n        cameraSelectionContainer.style.marginRight = \"10px\";\n        var numCameras = cameras.length;\n        var cameraSelectionSelect = document.createElement(\"select\");\n        if (numCameras === 1) {\n            cameraSelectionSelect.style.display = \"none\";\n        }\n        else {\n            var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n            cameraSelectionContainer.innerText\n                = selectCameraString + \" (\" + cameras.length + \")  \";\n        }\n        cameraSelectionSelect.id = this.getCameraSelectionId();\n        var options = [];\n        for (var _i = 0, cameras_1 = cameras; _i < cameras_1.length; _i++) {\n            var camera = cameras_1[_i];\n            var value = camera.id;\n            var name_1 = camera.label == null ? value : camera.label;\n            var option = document.createElement(\"option\");\n            option.value = value;\n            option.innerText = name_1;\n            options.push(option);\n            cameraSelectionSelect.appendChild(option);\n        }\n        cameraSelectionContainer.appendChild(cameraSelectionSelect);\n        scpCameraScanRegion.appendChild(cameraSelectionContainer);\n        var cameraActionContainer = document.createElement(\"span\");\n        var cameraActionStartButton = document.createElement(\"button\");\n        cameraActionStartButton.innerText\n            = Html5QrcodeScannerStrings.scanButtonStartScanningText();\n        cameraActionContainer.appendChild(cameraActionStartButton);\n        var cameraActionStopButton = document.createElement(\"button\");\n        cameraActionStopButton.innerText\n            = Html5QrcodeScannerStrings.scanButtonStopScanningText();\n        cameraActionStopButton.style.display = \"none\";\n        cameraActionStopButton.disabled = true;\n        cameraActionContainer.appendChild(cameraActionStopButton);\n        scpCameraScanRegion.appendChild(cameraActionContainer);\n        var resetCameraActionStartButton = function (shouldShow) {\n            if (!shouldShow) {\n                cameraActionStartButton.style.display = \"none\";\n            }\n            cameraActionStartButton.innerText\n                = Html5QrcodeScannerStrings\n                    .scanButtonStartScanningText();\n            cameraActionStartButton.style.opacity = \"1\";\n            cameraActionStartButton.disabled = false;\n            if (shouldShow) {\n                cameraActionStartButton.style.display = \"inline-block\";\n            }\n        };\n        cameraActionStartButton.addEventListener(\"click\", function (_) {\n            cameraActionStartButton.innerText\n                = Html5QrcodeScannerStrings.scanButtonScanningStarting();\n            cameraSelectionSelect.disabled = true;\n            cameraActionStartButton.disabled = true;\n            cameraActionStartButton.style.opacity = \"0.5\";\n            if (_this.scanTypeSelector.hasMoreThanOneScanType()) {\n                $this.showHideScanTypeSwapLink(false);\n            }\n            $this.resetHeaderMessage();\n            var cameraId = cameraSelectionSelect.value;\n            $this.persistedDataManager.setLastUsedCameraId(cameraId);\n            $this.html5Qrcode.start(cameraId, toHtml5QrcodeCameraScanConfig($this.config), $this.qrCodeSuccessCallback, $this.qrCodeErrorCallback)\n                .then(function (_) {\n                cameraActionStopButton.disabled = false;\n                cameraActionStopButton.style.display = \"inline-block\";\n                resetCameraActionStartButton(false);\n            })\n                .catch(function (error) {\n                $this.showHideScanTypeSwapLink(true);\n                cameraSelectionSelect.disabled = false;\n                resetCameraActionStartButton(true);\n                $this.setHeaderMessage(error, Html5QrcodeScannerStatus.STATUS_WARNING);\n            });\n        });\n        if (numCameras === 1) {\n            cameraActionStartButton.click();\n        }\n        cameraActionStopButton.addEventListener(\"click\", function (_) {\n            if (!$this.html5Qrcode) {\n                throw \"html5Qrcode not defined\";\n            }\n            cameraActionStopButton.disabled = true;\n            $this.html5Qrcode.stop()\n                .then(function (_) {\n                if (_this.scanTypeSelector.hasMoreThanOneScanType()) {\n                    $this.showHideScanTypeSwapLink(true);\n                }\n                cameraSelectionSelect.disabled = false;\n                cameraActionStartButton.disabled = false;\n                cameraActionStopButton.style.display = \"none\";\n                cameraActionStartButton.style.display = \"inline-block\";\n                $this.insertCameraScanImageToScanRegion();\n            }).catch(function (error) {\n                cameraActionStopButton.disabled = false;\n                $this.setHeaderMessage(error, Html5QrcodeScannerStatus.STATUS_WARNING);\n            });\n        });\n        if ($this.persistedDataManager.getLastUsedCameraId()) {\n            var cameraId = $this.persistedDataManager.getLastUsedCameraId();\n            var cameraFound = false;\n            for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n                var option = options_1[_a];\n                if (option.value === cameraId) {\n                    cameraFound = true;\n                    break;\n                }\n            }\n            if (cameraFound) {\n                cameraSelectionSelect.value = cameraId;\n                cameraActionStartButton.click();\n            }\n            else {\n                $this.persistedDataManager.resetLastUsedCameraId();\n            }\n        }\n    };\n    Html5QrcodeScanner.prototype.createSectionSwap = function () {\n        var $this = this;\n        var TEXT_IF_CAMERA_SCAN_SELECTED = Html5QrcodeScannerStrings.textIfCameraScanSelected();\n        var TEXT_IF_FILE_SCAN_SELECTED = Html5QrcodeScannerStrings.textIfFileScanSelected();\n        var section = document.getElementById(this.getDashboardSectionId());\n        var switchContainer = document.createElement(\"div\");\n        switchContainer.style.textAlign = \"center\";\n        var switchScanTypeLink = document.createElement(\"a\");\n        switchScanTypeLink.style.textDecoration = \"underline\";\n        switchScanTypeLink.id = this.getDashboardSectionSwapLinkId();\n        switchScanTypeLink.innerText\n            = ScanTypeSelector.isCameraScanType(this.currentScanType)\n                ? TEXT_IF_CAMERA_SCAN_SELECTED : TEXT_IF_FILE_SCAN_SELECTED;\n        switchScanTypeLink.addEventListener(\"click\", function () {\n            if (!$this.sectionSwapAllowed) {\n                if ($this.verbose) {\n                    $this.logger.logError(\"Section swap called when not allowed\");\n                }\n                return;\n            }\n            $this.resetHeaderMessage();\n            $this.getFileScanInput().value = \"\";\n            $this.sectionSwapAllowed = false;\n            if (ScanTypeSelector.isCameraScanType($this.currentScanType)) {\n                $this.clearScanRegion();\n                $this.getFileScanInput().disabled = false;\n                $this.getCameraScanRegion().style.display = \"none\";\n                $this.getFileScanRegion().style.display = \"block\";\n                switchScanTypeLink.innerText = TEXT_IF_FILE_SCAN_SELECTED;\n                $this.currentScanType = Html5QrcodeScanType.SCAN_TYPE_FILE;\n                $this.insertFileScanImageToScanRegion();\n            }\n            else {\n                $this.clearScanRegion();\n                $this.getFileScanInput().disabled = true;\n                $this.getCameraScanRegion().style.display = \"block\";\n                $this.getFileScanRegion().style.display = \"none\";\n                switchScanTypeLink.innerText = TEXT_IF_CAMERA_SCAN_SELECTED;\n                $this.currentScanType = Html5QrcodeScanType.SCAN_TYPE_CAMERA;\n                $this.insertCameraScanImageToScanRegion();\n                $this.startCameraScanIfPermissionExistsOnSwap();\n            }\n            $this.sectionSwapAllowed = true;\n        });\n        switchContainer.appendChild(switchScanTypeLink);\n        section.appendChild(switchContainer);\n    };\n    Html5QrcodeScanner.prototype.startCameraScanIfPermissionExistsOnSwap = function () {\n        var _this = this;\n        var $this = this;\n        if (this.persistedDataManager.hasCameraPermissions()) {\n            CameraManager.hasCameraPermissions().then(function (hasPermissions) {\n                if (hasPermissions) {\n                    var permissionButton = document.getElementById($this.getCameraPermissionButtonId());\n                    if (!permissionButton) {\n                        _this.logger.logError(\"Permission button not found, fail;\");\n                        throw \"Permission button not found\";\n                    }\n                    permissionButton.click();\n                }\n                else {\n                    $this.persistedDataManager.setHasPermission(false);\n                }\n            }).catch(function (_) {\n                $this.persistedDataManager.setHasPermission(false);\n            });\n            return;\n        }\n    };\n    Html5QrcodeScanner.prototype.resetHeaderMessage = function () {\n        var messageDiv = document.getElementById(this.getHeaderMessageContainerId());\n        messageDiv.style.display = \"none\";\n    };\n    Html5QrcodeScanner.prototype.setHeaderMessage = function (messageText, scannerStatus) {\n        if (!scannerStatus) {\n            scannerStatus = Html5QrcodeScannerStatus.STATUS_DEFAULT;\n        }\n        var messageDiv = this.getHeaderMessageDiv();\n        messageDiv.innerText = messageText;\n        messageDiv.style.display = \"block\";\n        switch (scannerStatus) {\n            case Html5QrcodeScannerStatus.STATUS_SUCCESS:\n                messageDiv.style.background = \"#6aaf5042\";\n                messageDiv.style.color = \"#477735\";\n                break;\n            case Html5QrcodeScannerStatus.STATUS_WARNING:\n                messageDiv.style.background = \"#cb243124\";\n                messageDiv.style.color = \"#cb2431\";\n                break;\n            case Html5QrcodeScannerStatus.STATUS_DEFAULT:\n            default:\n                messageDiv.style.background = \"#00000000\";\n                messageDiv.style.color = \"rgb(17, 17, 17)\";\n                break;\n        }\n    };\n    Html5QrcodeScanner.prototype.showHideScanTypeSwapLink = function (shouldDisplay) {\n        if (shouldDisplay !== true) {\n            shouldDisplay = false;\n        }\n        this.sectionSwapAllowed = shouldDisplay;\n        this.getDashboardSectionSwapLink().style.display\n            = shouldDisplay ? \"inline-block\" : \"none\";\n    };\n    Html5QrcodeScanner.prototype.insertCameraScanImageToScanRegion = function () {\n        var $this = this;\n        var qrCodeScanRegion = document.getElementById(this.getScanRegionId());\n        if (this.cameraScanImage) {\n            qrCodeScanRegion.innerHTML = \"<br>\";\n            qrCodeScanRegion.appendChild(this.cameraScanImage);\n            return;\n        }\n        this.cameraScanImage = new Image;\n        this.cameraScanImage.onload = function (_) {\n            qrCodeScanRegion.innerHTML = \"<br>\";\n            qrCodeScanRegion.appendChild($this.cameraScanImage);\n        };\n        this.cameraScanImage.width = 64;\n        this.cameraScanImage.style.opacity = \"0.8\";\n        this.cameraScanImage.src = ASSET_CAMERA_SCAN;\n    };\n    Html5QrcodeScanner.prototype.insertFileScanImageToScanRegion = function () {\n        var $this = this;\n        var qrCodeScanRegion = document.getElementById(this.getScanRegionId());\n        if (this.fileScanImage) {\n            qrCodeScanRegion.innerHTML = \"<br>\";\n            qrCodeScanRegion.appendChild(this.fileScanImage);\n            return;\n        }\n        this.fileScanImage = new Image;\n        this.fileScanImage.onload = function (_) {\n            qrCodeScanRegion.innerHTML = \"<br>\";\n            qrCodeScanRegion.appendChild($this.fileScanImage);\n        };\n        this.fileScanImage.width = 64;\n        this.fileScanImage.style.opacity = \"0.8\";\n        this.fileScanImage.src = ASSET_FILE_SCAN;\n    };\n    Html5QrcodeScanner.prototype.clearScanRegion = function () {\n        var qrCodeScanRegion = document.getElementById(this.getScanRegionId());\n        qrCodeScanRegion.innerHTML = \"\";\n    };\n    Html5QrcodeScanner.prototype.getDashboardSectionId = function () {\n        return this.elementId + \"__dashboard_section\";\n    };\n    Html5QrcodeScanner.prototype.getDashboardSectionCameraScanRegionId = function () {\n        return this.elementId + \"__dashboard_section_csr\";\n    };\n    Html5QrcodeScanner.prototype.getDashboardSectionFileScanRegionId = function () {\n        return this.elementId + \"__dashboard_section_fsr\";\n    };\n    Html5QrcodeScanner.prototype.getDashboardSectionSwapLinkId = function () {\n        return this.elementId + \"__dashboard_section_swaplink\";\n    };\n    Html5QrcodeScanner.prototype.getScanRegionId = function () {\n        return this.elementId + \"__scan_region\";\n    };\n    Html5QrcodeScanner.prototype.getDashboardId = function () {\n        return this.elementId + \"__dashboard\";\n    };\n    Html5QrcodeScanner.prototype.getFileScanInputId = function () {\n        return this.elementId + \"__filescan_input\";\n    };\n    Html5QrcodeScanner.prototype.getStatusSpanId = function () {\n        return this.elementId + \"__status_span\";\n    };\n    Html5QrcodeScanner.prototype.getHeaderMessageContainerId = function () {\n        return this.elementId + \"__header_message\";\n    };\n    Html5QrcodeScanner.prototype.getCameraSelectionId = function () {\n        return this.elementId + \"__camera_selection\";\n    };\n    Html5QrcodeScanner.prototype.getCameraPermissionButtonId = function () {\n        return this.elementId + \"__camera_permission_button\";\n    };\n    Html5QrcodeScanner.prototype.getCameraScanRegion = function () {\n        return document.getElementById(this.getDashboardSectionCameraScanRegionId());\n    };\n    Html5QrcodeScanner.prototype.getFileScanRegion = function () {\n        return document.getElementById(this.getDashboardSectionFileScanRegionId());\n    };\n    Html5QrcodeScanner.prototype.getFileScanInput = function () {\n        return document.getElementById(this.getFileScanInputId());\n    };\n    Html5QrcodeScanner.prototype.getDashboardSectionSwapLink = function () {\n        return document.getElementById(this.getDashboardSectionSwapLinkId());\n    };\n    Html5QrcodeScanner.prototype.getHeaderMessageDiv = function () {\n        return document.getElementById(this.getHeaderMessageContainerId());\n    };\n    return Html5QrcodeScanner;\n}());\nexport { Html5QrcodeScanner };\n//# sourceMappingURL=html5-qrcode-scanner.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { BaseLoggger, Html5QrcodeResultFactory, Html5QrcodeErrorFactory, Html5QrcodeSupportedFormats, isValidHtml5QrcodeSupportedFormats, Html5QrcodeConstants, isNullOrUndefined } from \"./core\";\nimport { Html5QrcodeStrings } from \"./strings\";\nimport { VideoConstraintsUtil } from \"./utils\";\nimport { Html5QrcodeShim } from \"./code-decoder\";\nimport { ExperimentalFeaturesConfigFactory } from \"./experimental-features\";\nimport { StateManagerFactory, Html5QrcodeScannerState } from \"./state-manager\";\nvar Constants = (function (_super) {\n    __extends(Constants, _super);\n    function Constants() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Constants.DEFAULT_WIDTH = 300;\n    Constants.DEFAULT_WIDTH_OFFSET = 2;\n    Constants.FILE_SCAN_MIN_HEIGHT = 300;\n    Constants.MIN_QR_BOX_SIZE = 50;\n    Constants.SHADED_LEFT = 1;\n    Constants.SHADED_RIGHT = 2;\n    Constants.SHADED_TOP = 3;\n    Constants.SHADED_BOTTOM = 4;\n    Constants.SHADED_REGION_ELEMENT_ID = \"qr-shaded-region\";\n    Constants.VERBOSE = false;\n    Constants.BORDER_SHADER_DEFAULT_COLOR = \"#ffffff\";\n    Constants.BORDER_SHADER_MATCH_COLOR = \"rgb(90, 193, 56)\";\n    return Constants;\n}(Html5QrcodeConstants));\nvar InternalHtml5QrcodeConfig = (function () {\n    function InternalHtml5QrcodeConfig(config, logger) {\n        this.logger = logger;\n        this.fps = Constants.SCAN_DEFAULT_FPS;\n        if (!config) {\n            this.disableFlip = Constants.DEFAULT_DISABLE_FLIP;\n        }\n        else {\n            if (config.fps) {\n                this.fps = config.fps;\n            }\n            this.disableFlip = config.disableFlip === true;\n            this.qrbox = config.qrbox;\n            this.aspectRatio = config.aspectRatio;\n            this.videoConstraints = config.videoConstraints;\n        }\n    }\n    InternalHtml5QrcodeConfig.prototype.isMediaStreamConstraintsValid = function () {\n        if (!this.videoConstraints) {\n            this.logger.logError(\"Empty videoConstraints\", true);\n            return false;\n        }\n        return VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints, this.logger);\n    };\n    InternalHtml5QrcodeConfig.prototype.isShadedBoxEnabled = function () {\n        return !isNullOrUndefined(this.qrbox);\n    };\n    InternalHtml5QrcodeConfig.create = function (config, logger) {\n        return new InternalHtml5QrcodeConfig(config, logger);\n    };\n    return InternalHtml5QrcodeConfig;\n}());\nvar Html5Qrcode = (function () {\n    function Html5Qrcode(elementId, configOrVerbosityFlag) {\n        this.element = null;\n        this.canvasElement = null;\n        this.scannerPausedUiElement = null;\n        this.hasBorderShaders = null;\n        this.borderShaders = null;\n        this.qrMatch = null;\n        this.videoElement = null;\n        this.localMediaStream = null;\n        this.qrRegion = null;\n        this.context = null;\n        this.lastScanImageFile = null;\n        this.isScanning = false;\n        if (!document.getElementById(elementId)) {\n            throw \"HTML Element with id=\" + elementId + \" not found\";\n        }\n        this.elementId = elementId;\n        this.verbose = false;\n        var experimentalFeatureConfig;\n        if (typeof configOrVerbosityFlag == \"boolean\") {\n            this.verbose = configOrVerbosityFlag === true;\n        }\n        else if (configOrVerbosityFlag) {\n            this.verbose = configOrVerbosityFlag.verbose === true;\n            experimentalFeatureConfig = configOrVerbosityFlag.experimentalFeatures;\n        }\n        this.logger = new BaseLoggger(this.verbose);\n        this.qrcode = new Html5QrcodeShim(this.getSupportedFormats(configOrVerbosityFlag), this.verbose, this.logger, ExperimentalFeaturesConfigFactory.createExperimentalFeaturesConfig(experimentalFeatureConfig));\n        this.foreverScanTimeout;\n        this.localMediaStream;\n        this.shouldScan = true;\n        this.stateManagerProxy = StateManagerFactory.create();\n    }\n    Html5Qrcode.prototype.start = function (cameraIdOrConfig, configuration, qrCodeSuccessCallback, qrCodeErrorCallback) {\n        if (!cameraIdOrConfig) {\n            throw \"cameraIdOrConfig is required\";\n        }\n        if (!qrCodeSuccessCallback\n            || typeof qrCodeSuccessCallback != \"function\") {\n            throw \"qrCodeSuccessCallback is required and should be a function.\";\n        }\n        if (!qrCodeErrorCallback) {\n            qrCodeErrorCallback = this.verbose ? this.logger.log : function () { };\n        }\n        var internalConfig = InternalHtml5QrcodeConfig.create(configuration, this.logger);\n        this.clearElement();\n        var videoConstraintsAvailableAndValid = false;\n        if (internalConfig.videoConstraints) {\n            if (!internalConfig.isMediaStreamConstraintsValid()) {\n                this.logger.logError(\"'videoConstraints' is not valid 'MediaStreamConstraints, \"\n                    + \"it will be ignored.'\", true);\n            }\n            else {\n                videoConstraintsAvailableAndValid = true;\n            }\n        }\n        var areVideoConstraintsEnabled = videoConstraintsAvailableAndValid;\n        var isShadedBoxEnabled = internalConfig.isShadedBoxEnabled();\n        var element = document.getElementById(this.elementId);\n        var rootElementWidth = element.clientWidth\n            ? element.clientWidth : Constants.DEFAULT_WIDTH;\n        element.style.position = \"relative\";\n        this.shouldScan = true;\n        this.element = element;\n        var $this = this;\n        var toScanningStateChangeTransaction = this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);\n        return new Promise(function (resolve, reject) {\n            var videoConstraints = areVideoConstraintsEnabled\n                ? internalConfig.videoConstraints\n                : $this.createVideoConstraints(cameraIdOrConfig);\n            if (!videoConstraints) {\n                toScanningStateChangeTransaction.cancel();\n                reject(\"videoConstraints should be defined\");\n                return;\n            }\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n                navigator.mediaDevices.getUserMedia({\n                    audio: false,\n                    video: videoConstraints\n                }).then(function (stream) {\n                    $this.onMediaStreamReceived(stream, internalConfig, areVideoConstraintsEnabled, rootElementWidth, qrCodeSuccessCallback, qrCodeErrorCallback)\n                        .then(function (_) {\n                        toScanningStateChangeTransaction.execute();\n                        $this.isScanning = true;\n                        resolve(null);\n                    })\n                        .catch(function (error) {\n                        toScanningStateChangeTransaction.cancel();\n                        reject(error);\n                    });\n                })\n                    .catch(function (error) {\n                    toScanningStateChangeTransaction.cancel();\n                    reject(Html5QrcodeStrings.errorGettingUserMedia(error));\n                });\n            }\n            else {\n                toScanningStateChangeTransaction.cancel();\n                reject(Html5QrcodeStrings.cameraStreamingNotSupported());\n            }\n        });\n    };\n    Html5Qrcode.prototype.pause = function (shouldPauseVideo) {\n        if (!this.stateManagerProxy.isStrictlyScanning()) {\n            throw \"Cannot pause, scanner is not scanning.\";\n        }\n        this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED);\n        this.showPausedState();\n        if (isNullOrUndefined(shouldPauseVideo) || shouldPauseVideo !== true) {\n            shouldPauseVideo = false;\n        }\n        if (shouldPauseVideo && this.videoElement) {\n            this.videoElement.pause();\n        }\n    };\n    Html5Qrcode.prototype.resume = function () {\n        if (!this.stateManagerProxy.isPaused()) {\n            throw \"Cannot result, scanner is not paused.\";\n        }\n        if (!this.videoElement) {\n            throw \"VideoElement doesn't exist while trying resume()\";\n        }\n        var $this = this;\n        var transitionToScanning = function () {\n            $this.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING);\n            $this.hidePausedState();\n        };\n        var isVideoPaused = this.videoElement.paused;\n        if (!isVideoPaused) {\n            transitionToScanning();\n            return;\n        }\n        var onVideoResume = function () {\n            var _a;\n            setTimeout(transitionToScanning, 200);\n            (_a = $this.videoElement) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"playing\", onVideoResume);\n        };\n        this.videoElement.addEventListener(\"playing\", onVideoResume);\n        this.videoElement.play();\n    };\n    Html5Qrcode.prototype.getState = function () {\n        return this.stateManagerProxy.getState();\n    };\n    Html5Qrcode.prototype.stop = function () {\n        var _this = this;\n        if (!this.stateManagerProxy.isScanning()) {\n            throw \"Cannot stop, scanner is not running or paused.\";\n        }\n        var toStoppedStateTransaction = this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);\n        this.shouldScan = false;\n        if (this.foreverScanTimeout) {\n            clearTimeout(this.foreverScanTimeout);\n        }\n        var removeQrRegion = function () {\n            if (!_this.element) {\n                return;\n            }\n            var childElement = document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);\n            if (childElement) {\n                _this.element.removeChild(childElement);\n            }\n        };\n        return new Promise(function (resolve, _) {\n            var onAllTracksClosed = function () {\n                _this.localMediaStream = null;\n                if (_this.element) {\n                    _this.element.removeChild(_this.videoElement);\n                    _this.element.removeChild(_this.canvasElement);\n                }\n                removeQrRegion();\n                if (_this.qrRegion) {\n                    _this.qrRegion = null;\n                }\n                if (_this.context) {\n                    _this.context = null;\n                }\n                toStoppedStateTransaction.execute();\n                _this.hidePausedState();\n                _this.isScanning = false;\n                resolve();\n            };\n            if (!_this.localMediaStream) {\n                onAllTracksClosed();\n            }\n            var tracksToClose = _this.localMediaStream.getVideoTracks().length;\n            var tracksClosed = 0;\n            _this.localMediaStream.getVideoTracks().forEach(function (videoTrack) {\n                _this.localMediaStream.removeTrack(videoTrack);\n                videoTrack.stop();\n                ++tracksClosed;\n                if (tracksClosed >= tracksToClose) {\n                    onAllTracksClosed();\n                }\n            });\n        });\n    };\n    Html5Qrcode.prototype.scanFile = function (imageFile, showImage) {\n        return this.scanFileV2(imageFile, showImage)\n            .then(function (html5qrcodeResult) { return html5qrcodeResult.decodedText; });\n    };\n    Html5Qrcode.prototype.scanFileV2 = function (imageFile, showImage) {\n        var _this = this;\n        if (!imageFile || !(imageFile instanceof File)) {\n            throw \"imageFile argument is mandatory and should be instance \"\n                + \"of File. Use 'event.target.files[0]'.\";\n        }\n        if (isNullOrUndefined(showImage)) {\n            showImage = true;\n        }\n        if (!this.stateManagerProxy.canScanFile()) {\n            throw \"Cannot start file scan - ongoing camera scan\";\n        }\n        return new Promise(function (resolve, reject) {\n            _this.possiblyCloseLastScanImageFile();\n            _this.clearElement();\n            _this.lastScanImageFile = URL.createObjectURL(imageFile);\n            var inputImage = new Image;\n            inputImage.onload = function () {\n                var imageWidth = inputImage.width;\n                var imageHeight = inputImage.height;\n                var element = document.getElementById(_this.elementId);\n                var containerWidth = element.clientWidth\n                    ? element.clientWidth : Constants.DEFAULT_WIDTH;\n                var containerHeight = Math.max(element.clientHeight ? element.clientHeight : imageHeight, Constants.FILE_SCAN_MIN_HEIGHT);\n                var config = _this.computeCanvasDrawConfig(imageWidth, imageHeight, containerWidth, containerHeight);\n                if (showImage) {\n                    var visibleCanvas = _this.createCanvasElement(containerWidth, containerHeight, \"qr-canvas-visible\");\n                    visibleCanvas.style.display = \"inline-block\";\n                    element.appendChild(visibleCanvas);\n                    var context_1 = visibleCanvas.getContext(\"2d\");\n                    if (!context_1) {\n                        throw \"Unable to get 2d context from canvas\";\n                    }\n                    context_1.canvas.width = containerWidth;\n                    context_1.canvas.height = containerHeight;\n                    context_1.drawImage(inputImage, 0, 0, imageWidth, imageHeight, config.x, config.y, config.width, config.height);\n                }\n                var hiddenCanvas = _this.createCanvasElement(config.width, config.height);\n                element.appendChild(hiddenCanvas);\n                var context = hiddenCanvas.getContext(\"2d\");\n                if (!context) {\n                    throw \"Unable to get 2d context from canvas\";\n                }\n                context.canvas.width = config.width;\n                context.canvas.height = config.height;\n                context.drawImage(inputImage, 0, 0, imageWidth, imageHeight, 0, 0, config.width, config.height);\n                try {\n                    _this.qrcode.decodeAsync(hiddenCanvas)\n                        .then(function (result) {\n                        resolve(Html5QrcodeResultFactory.createFromQrcodeResult(result));\n                    })\n                        .catch(reject);\n                }\n                catch (exception) {\n                    reject(\"QR code parse error, error = \" + exception);\n                }\n            };\n            inputImage.onerror = reject;\n            inputImage.onabort = reject;\n            inputImage.onstalled = reject;\n            inputImage.onsuspend = reject;\n            inputImage.src = URL.createObjectURL(imageFile);\n        });\n    };\n    Html5Qrcode.prototype.clear = function () {\n        this.clearElement();\n    };\n    Html5Qrcode.getCameras = function () {\n        if (navigator.mediaDevices) {\n            return Html5Qrcode.getCamerasFromMediaDevices();\n        }\n        var mst = MediaStreamTrack;\n        if (MediaStreamTrack && mst.getSources) {\n            return Html5Qrcode.getCamerasFromMediaStreamTrack();\n        }\n        var isHttpsOrLocalhost = function () {\n            if (location.protocol === \"https:\") {\n                return true;\n            }\n            var host = location.host.split(\":\")[0];\n            return host === \"127.0.0.1\" || host === \"localhost\";\n        };\n        var errorMessage = Html5QrcodeStrings.unableToQuerySupportedDevices();\n        if (!isHttpsOrLocalhost()) {\n            errorMessage = Html5QrcodeStrings.insecureContextCameraQueryError();\n        }\n        return Promise.reject(errorMessage);\n    };\n    Html5Qrcode.prototype.getRunningTrackCapabilities = function () {\n        if (this.localMediaStream == null) {\n            throw \"Scanning is not in running state, call this API only when\"\n                + \" QR code scanning using camera is in running state.\";\n        }\n        if (this.localMediaStream.getVideoTracks().length === 0) {\n            throw \"No video tracks found\";\n        }\n        var videoTrack = this.localMediaStream.getVideoTracks()[0];\n        return videoTrack.getCapabilities();\n    };\n    Html5Qrcode.prototype.applyVideoConstraints = function (videoConstaints) {\n        var _this = this;\n        if (!videoConstaints) {\n            throw \"videoConstaints is required argument.\";\n        }\n        else if (!VideoConstraintsUtil.isMediaStreamConstraintsValid(videoConstaints, this.logger)) {\n            throw \"invalid videoConstaints passed, check logs for more details\";\n        }\n        if (this.localMediaStream === null) {\n            throw \"Scanning is not in running state, call this API only when\"\n                + \" QR code scanning using camera is in running state.\";\n        }\n        if (this.localMediaStream.getVideoTracks().length === 0) {\n            throw \"No video tracks found\";\n        }\n        return new Promise(function (resolve, reject) {\n            if (\"aspectRatio\" in videoConstaints) {\n                reject(\"Chaning 'aspectRatio' in run-time is not yet \"\n                    + \"supported.\");\n                return;\n            }\n            var videoTrack = _this.localMediaStream.getVideoTracks()[0];\n            videoTrack.applyConstraints(videoConstaints)\n                .then(function (_) {\n                resolve(_);\n            })\n                .catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    Html5Qrcode.getCamerasFromMediaDevices = function () {\n        return new Promise(function (resolve, reject) {\n            navigator.mediaDevices.getUserMedia({ audio: false, video: true })\n                .then(function (stream) {\n                var closeActiveStreams = function (stream) {\n                    var tracks = stream.getVideoTracks();\n                    for (var _i = 0, tracks_1 = tracks; _i < tracks_1.length; _i++) {\n                        var track = tracks_1[_i];\n                        track.enabled = false;\n                        track.stop();\n                        stream.removeTrack(track);\n                    }\n                };\n                navigator.mediaDevices.enumerateDevices()\n                    .then(function (devices) {\n                    var results = [];\n                    for (var _i = 0, devices_1 = devices; _i < devices_1.length; _i++) {\n                        var device = devices_1[_i];\n                        if (device.kind === \"videoinput\") {\n                            results.push({\n                                id: device.deviceId,\n                                label: device.label\n                            });\n                        }\n                    }\n                    closeActiveStreams(stream);\n                    resolve(results);\n                })\n                    .catch(function (err) {\n                    reject(err.name + \" : \" + err.message);\n                });\n            })\n                .catch(function (err) {\n                reject(err.name + \" : \" + err.message);\n            });\n        });\n    };\n    Html5Qrcode.getCamerasFromMediaStreamTrack = function () {\n        return new Promise(function (resolve, _) {\n            var callback = function (sourceInfos) {\n                var results = [];\n                for (var _i = 0, sourceInfos_1 = sourceInfos; _i < sourceInfos_1.length; _i++) {\n                    var sourceInfo = sourceInfos_1[_i];\n                    if (sourceInfo.kind === \"video\") {\n                        results.push({\n                            id: sourceInfo.id,\n                            label: sourceInfo.label\n                        });\n                    }\n                }\n                resolve(results);\n            };\n            var mst = MediaStreamTrack;\n            mst.getSources(callback);\n        });\n    };\n    Html5Qrcode.prototype.getSupportedFormats = function (configOrVerbosityFlag) {\n        var allFormats = [\n            Html5QrcodeSupportedFormats.QR_CODE,\n            Html5QrcodeSupportedFormats.AZTEC,\n            Html5QrcodeSupportedFormats.CODABAR,\n            Html5QrcodeSupportedFormats.CODE_39,\n            Html5QrcodeSupportedFormats.CODE_93,\n            Html5QrcodeSupportedFormats.CODE_128,\n            Html5QrcodeSupportedFormats.DATA_MATRIX,\n            Html5QrcodeSupportedFormats.MAXICODE,\n            Html5QrcodeSupportedFormats.ITF,\n            Html5QrcodeSupportedFormats.EAN_13,\n            Html5QrcodeSupportedFormats.EAN_8,\n            Html5QrcodeSupportedFormats.PDF_417,\n            Html5QrcodeSupportedFormats.RSS_14,\n            Html5QrcodeSupportedFormats.RSS_EXPANDED,\n            Html5QrcodeSupportedFormats.UPC_A,\n            Html5QrcodeSupportedFormats.UPC_E,\n            Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,\n        ];\n        if (!configOrVerbosityFlag\n            || typeof configOrVerbosityFlag == \"boolean\") {\n            return allFormats;\n        }\n        if (!configOrVerbosityFlag.formatsToSupport) {\n            return allFormats;\n        }\n        if (!Array.isArray(configOrVerbosityFlag.formatsToSupport)) {\n            throw \"configOrVerbosityFlag.formatsToSupport should be undefined \"\n                + \"or an array.\";\n        }\n        if (configOrVerbosityFlag.formatsToSupport.length === 0) {\n            throw \"Atleast 1 formatsToSupport is needed.\";\n        }\n        var supportedFormats = [];\n        for (var _i = 0, _a = configOrVerbosityFlag.formatsToSupport; _i < _a.length; _i++) {\n            var format = _a[_i];\n            if (isValidHtml5QrcodeSupportedFormats(format)) {\n                supportedFormats.push(format);\n            }\n            else {\n                this.logger.warn(\"Invalid format: \" + format + \" passed in config, ignoring.\");\n            }\n        }\n        if (supportedFormats.length === 0) {\n            throw \"None of formatsToSupport match supported values.\";\n        }\n        return supportedFormats;\n    };\n    Html5Qrcode.prototype.validateQrboxSize = function (viewfinderWidth, viewfinderHeight, internalConfig) {\n        var _this = this;\n        var qrboxSize = internalConfig.qrbox;\n        this.validateQrboxConfig(qrboxSize);\n        var qrDimensions = this.toQrdimensions(viewfinderWidth, viewfinderHeight, qrboxSize);\n        var validateMinSize = function (size) {\n            if (size < Constants.MIN_QR_BOX_SIZE) {\n                throw \"minimum size of 'config.qrbox' dimension value is\"\n                    + (\" \" + Constants.MIN_QR_BOX_SIZE + \"px.\");\n            }\n        };\n        var correctWidthBasedOnRootElementSize = function (configWidth) {\n            if (configWidth > viewfinderWidth) {\n                _this.logger.warn(\"`qrbox.width` or `qrbox` is larger than the\"\n                    + \" width of the root element. The width will be truncated\"\n                    + \" to the width of root element.\");\n                configWidth = viewfinderWidth;\n            }\n            return configWidth;\n        };\n        validateMinSize(qrDimensions.width);\n        validateMinSize(qrDimensions.height);\n        qrDimensions.width = correctWidthBasedOnRootElementSize(qrDimensions.width);\n    };\n    Html5Qrcode.prototype.validateQrboxConfig = function (qrboxSize) {\n        if (typeof qrboxSize === \"number\") {\n            return;\n        }\n        if (typeof qrboxSize === \"function\") {\n            return;\n        }\n        if (qrboxSize.width === undefined || qrboxSize.height === undefined) {\n            throw \"Invalid instance of QrDimensions passed for \"\n                + \"'config.qrbox'. Both 'width' and 'height' should be set.\";\n        }\n    };\n    Html5Qrcode.prototype.toQrdimensions = function (viewfinderWidth, viewfinderHeight, qrboxSize) {\n        if (typeof qrboxSize === \"number\") {\n            return { width: qrboxSize, height: qrboxSize };\n        }\n        else if (typeof qrboxSize === \"function\") {\n            try {\n                return qrboxSize(viewfinderWidth, viewfinderHeight);\n            }\n            catch (error) {\n                throw new Error(\"qrbox config was passed as a function but it failed with \"\n                    + \"unknown error\" + error);\n            }\n        }\n        return qrboxSize;\n    };\n    Html5Qrcode.prototype.setupUi = function (viewfinderWidth, viewfinderHeight, internalConfig) {\n        if (internalConfig.isShadedBoxEnabled()) {\n            this.validateQrboxSize(viewfinderWidth, viewfinderHeight, internalConfig);\n        }\n        var qrboxSize = isNullOrUndefined(internalConfig.qrbox) ?\n            { width: viewfinderWidth, height: viewfinderHeight } : internalConfig.qrbox;\n        this.validateQrboxConfig(qrboxSize);\n        var qrDimensions = this.toQrdimensions(viewfinderWidth, viewfinderHeight, qrboxSize);\n        if (qrDimensions.height > viewfinderHeight) {\n            this.logger.warn(\"[Html5Qrcode] config.qrbox has height that is\"\n                + \"greater than the height of the video stream. Shading will be\"\n                + \" ignored\");\n        }\n        var shouldShadingBeApplied = internalConfig.isShadedBoxEnabled()\n            && qrDimensions.height <= viewfinderHeight;\n        var defaultQrRegion = {\n            x: 0,\n            y: 0,\n            width: viewfinderWidth,\n            height: viewfinderHeight\n        };\n        var qrRegion = shouldShadingBeApplied\n            ? this.getShadedRegionBounds(viewfinderWidth, viewfinderHeight, qrDimensions)\n            : defaultQrRegion;\n        var canvasElement = this.createCanvasElement(qrRegion.width, qrRegion.height);\n        var context = canvasElement.getContext(\"2d\");\n        context.canvas.width = qrRegion.width;\n        context.canvas.height = qrRegion.height;\n        this.element.append(canvasElement);\n        if (shouldShadingBeApplied) {\n            this.possiblyInsertShadingElement(this.element, viewfinderWidth, viewfinderHeight, qrDimensions);\n        }\n        this.createScannerPausedUiElement(this.element);\n        this.qrRegion = qrRegion;\n        this.context = context;\n        this.canvasElement = canvasElement;\n    };\n    Html5Qrcode.prototype.createScannerPausedUiElement = function (rootElement) {\n        var scannerPausedUiElement = document.createElement(\"div\");\n        scannerPausedUiElement.innerText = \"Scanner paused\";\n        scannerPausedUiElement.style.display = \"none\";\n        scannerPausedUiElement.style.position = \"absolute\";\n        scannerPausedUiElement.style.top = \"0px\";\n        scannerPausedUiElement.style.zIndex = \"1\";\n        scannerPausedUiElement.style.background = \"yellow\";\n        scannerPausedUiElement.style.textAlign = \"center\";\n        scannerPausedUiElement.style.width = \"100%\";\n        rootElement.appendChild(scannerPausedUiElement);\n        this.scannerPausedUiElement = scannerPausedUiElement;\n    };\n    Html5Qrcode.prototype.scanContext = function (qrCodeSuccessCallback, qrCodeErrorCallback) {\n        var _this = this;\n        if (this.stateManagerProxy.isPaused()) {\n            return Promise.resolve(false);\n        }\n        return this.qrcode.decodeAsync(this.canvasElement)\n            .then(function (result) {\n            qrCodeSuccessCallback(result.text, Html5QrcodeResultFactory.createFromQrcodeResult(result));\n            _this.possiblyUpdateShaders(true);\n            return true;\n        }).catch(function (error) {\n            _this.possiblyUpdateShaders(false);\n            var errorMessage = Html5QrcodeStrings.codeParseError(error);\n            qrCodeErrorCallback(errorMessage, Html5QrcodeErrorFactory.createFrom(errorMessage));\n            return false;\n        });\n    };\n    Html5Qrcode.prototype.foreverScan = function (internalConfig, qrCodeSuccessCallback, qrCodeErrorCallback) {\n        var _this = this;\n        if (!this.shouldScan) {\n            return;\n        }\n        if (!this.localMediaStream) {\n            return;\n        }\n        var videoElement = this.videoElement;\n        var widthRatio = videoElement.videoWidth / videoElement.clientWidth;\n        var heightRatio = videoElement.videoHeight / videoElement.clientHeight;\n        if (!this.qrRegion) {\n            throw \"qrRegion undefined when localMediaStream is ready.\";\n        }\n        var sWidthOffset = this.qrRegion.width * widthRatio;\n        var sHeightOffset = this.qrRegion.height * heightRatio;\n        var sxOffset = this.qrRegion.x * widthRatio;\n        var syOffset = this.qrRegion.y * heightRatio;\n        this.context.drawImage(videoElement, sxOffset, syOffset, sWidthOffset, sHeightOffset, 0, 0, this.qrRegion.width, this.qrRegion.height);\n        var triggerNextScan = function () {\n            _this.foreverScanTimeout = setTimeout(function () {\n                _this.foreverScan(internalConfig, qrCodeSuccessCallback, qrCodeErrorCallback);\n            }, _this.getTimeoutFps(internalConfig.fps));\n        };\n        this.scanContext(qrCodeSuccessCallback, qrCodeErrorCallback)\n            .then(function (isSuccessfull) {\n            if (!isSuccessfull && internalConfig.disableFlip !== true) {\n                _this.context.translate(_this.context.canvas.width, 0);\n                _this.context.scale(-1, 1);\n                _this.scanContext(qrCodeSuccessCallback, qrCodeErrorCallback)\n                    .finally(function () {\n                    triggerNextScan();\n                });\n            }\n            else {\n                triggerNextScan();\n            }\n        }).catch(function (error) {\n            _this.logger.logError(\"Error happend while scanning context\", error);\n            triggerNextScan();\n        });\n    };\n    Html5Qrcode.prototype.onMediaStreamReceived = function (mediaStream, internalConfig, areVideoConstraintsEnabled, clientWidth, qrCodeSuccessCallback, qrCodeErrorCallback) {\n        var _this = this;\n        var $this = this;\n        return new Promise(function (resolve, reject) {\n            var setupVideo = function () {\n                var videoElement = _this.createVideoElement(clientWidth);\n                $this.element.append(videoElement);\n                videoElement.onabort = reject;\n                videoElement.onerror = reject;\n                var onVideoStart = function () {\n                    var videoWidth = videoElement.clientWidth;\n                    var videoHeight = videoElement.clientHeight;\n                    $this.setupUi(videoWidth, videoHeight, internalConfig);\n                    $this.foreverScan(internalConfig, qrCodeSuccessCallback, qrCodeErrorCallback);\n                    videoElement.removeEventListener(\"playing\", onVideoStart);\n                    resolve(null);\n                };\n                videoElement.addEventListener(\"playing\", onVideoStart);\n                videoElement.srcObject = mediaStream;\n                videoElement.play();\n                $this.videoElement = videoElement;\n            };\n            $this.localMediaStream = mediaStream;\n            if (areVideoConstraintsEnabled || !internalConfig.aspectRatio) {\n                setupVideo();\n            }\n            else {\n                var constraints = {\n                    aspectRatio: internalConfig.aspectRatio\n                };\n                var track = mediaStream.getVideoTracks()[0];\n                track.applyConstraints(constraints)\n                    .then(function (_) { return setupVideo(); })\n                    .catch(function (error) {\n                    $this.logger.logErrors([\"[Html5Qrcode] Constriants could not \"\n                            + \"be satisfied, ignoring constraints\",\n                        error]);\n                    setupVideo();\n                });\n            }\n        });\n    };\n    Html5Qrcode.prototype.createVideoConstraints = function (cameraIdOrConfig) {\n        if (typeof cameraIdOrConfig == \"string\") {\n            return { deviceId: { exact: cameraIdOrConfig } };\n        }\n        else if (typeof cameraIdOrConfig == \"object\") {\n            var facingModeKey = \"facingMode\";\n            var deviceIdKey = \"deviceId\";\n            var allowedFacingModeValues_1 = { \"user\": true, \"environment\": true };\n            var exactKey = \"exact\";\n            var isValidFacingModeValue = function (value) {\n                if (value in allowedFacingModeValues_1) {\n                    return true;\n                }\n                else {\n                    throw \"config has invalid 'facingMode' value = \"\n                        + (\"'\" + value + \"'\");\n                }\n            };\n            var keys = Object.keys(cameraIdOrConfig);\n            if (keys.length !== 1) {\n                throw \"'cameraIdOrConfig' object should have exactly 1 key,\"\n                    + (\" if passed as an object, found \" + keys.length + \" keys\");\n            }\n            var key = Object.keys(cameraIdOrConfig)[0];\n            if (key !== facingModeKey && key !== deviceIdKey) {\n                throw \"Only '\" + facingModeKey + \"' and '\" + deviceIdKey + \"' \"\n                    + \" are supported for 'cameraIdOrConfig'\";\n            }\n            if (key === facingModeKey) {\n                var facingMode = cameraIdOrConfig.facingMode;\n                if (typeof facingMode == \"string\") {\n                    if (isValidFacingModeValue(facingMode)) {\n                        return { facingMode: facingMode };\n                    }\n                }\n                else if (typeof facingMode == \"object\") {\n                    if (exactKey in facingMode) {\n                        if (isValidFacingModeValue(facingMode[\"\" + exactKey])) {\n                            return {\n                                facingMode: {\n                                    exact: facingMode[\"\" + exactKey]\n                                }\n                            };\n                        }\n                    }\n                    else {\n                        throw \"'facingMode' should be string or object with\"\n                            + (\" \" + exactKey + \" as key.\");\n                    }\n                }\n                else {\n                    var type_1 = (typeof facingMode);\n                    throw \"Invalid type of 'facingMode' = \" + type_1;\n                }\n            }\n            else {\n                var deviceId = cameraIdOrConfig.deviceId;\n                if (typeof deviceId == \"string\") {\n                    return { deviceId: deviceId };\n                }\n                else if (typeof deviceId == \"object\") {\n                    if (exactKey in deviceId) {\n                        return {\n                            deviceId: { exact: deviceId[\"\" + exactKey] }\n                        };\n                    }\n                    else {\n                        throw \"'deviceId' should be string or object with\"\n                            + (\" \" + exactKey + \" as key.\");\n                    }\n                }\n                else {\n                    var type_2 = (typeof deviceId);\n                    throw \"Invalid type of 'deviceId' = \" + type_2;\n                }\n            }\n        }\n        var type = (typeof cameraIdOrConfig);\n        throw \"Invalid type of 'cameraIdOrConfig' = \" + type;\n    };\n    Html5Qrcode.prototype.computeCanvasDrawConfig = function (imageWidth, imageHeight, containerWidth, containerHeight) {\n        if (imageWidth <= containerWidth\n            && imageHeight <= containerHeight) {\n            var xoffset = (containerWidth - imageWidth) / 2;\n            var yoffset = (containerHeight - imageHeight) / 2;\n            return {\n                x: xoffset,\n                y: yoffset,\n                width: imageWidth,\n                height: imageHeight\n            };\n        }\n        else {\n            var formerImageWidth = imageWidth;\n            var formerImageHeight = imageHeight;\n            if (imageWidth > containerWidth) {\n                imageHeight = (containerWidth / imageWidth) * imageHeight;\n                imageWidth = containerWidth;\n            }\n            if (imageHeight > containerHeight) {\n                imageWidth = (containerHeight / imageHeight) * imageWidth;\n                imageHeight = containerHeight;\n            }\n            this.logger.log(\"Image downsampled from \"\n                + (formerImageWidth + \"X\" + formerImageHeight)\n                + (\" to \" + imageWidth + \"X\" + imageHeight + \".\"));\n            return this.computeCanvasDrawConfig(imageWidth, imageHeight, containerWidth, containerHeight);\n        }\n    };\n    Html5Qrcode.prototype.clearElement = function () {\n        if (this.stateManagerProxy.isScanning()) {\n            throw \"Cannot clear while scan is ongoing, close it first.\";\n        }\n        var element = document.getElementById(this.elementId);\n        if (element) {\n            element.innerHTML = \"\";\n        }\n    };\n    Html5Qrcode.prototype.createVideoElement = function (width) {\n        var videoElement = document.createElement(\"video\");\n        videoElement.style.width = width + \"px\";\n        videoElement.muted = true;\n        videoElement.setAttribute(\"muted\", \"true\");\n        videoElement.playsInline = true;\n        return videoElement;\n    };\n    Html5Qrcode.prototype.possiblyUpdateShaders = function (qrMatch) {\n        if (this.qrMatch === qrMatch) {\n            return;\n        }\n        if (this.hasBorderShaders\n            && this.borderShaders\n            && this.borderShaders.length) {\n            this.borderShaders.forEach(function (shader) {\n                shader.style.backgroundColor = qrMatch\n                    ? Constants.BORDER_SHADER_MATCH_COLOR\n                    : Constants.BORDER_SHADER_DEFAULT_COLOR;\n            });\n        }\n        this.qrMatch = qrMatch;\n    };\n    Html5Qrcode.prototype.possiblyCloseLastScanImageFile = function () {\n        if (this.lastScanImageFile) {\n            URL.revokeObjectURL(this.lastScanImageFile);\n            this.lastScanImageFile = null;\n        }\n    };\n    Html5Qrcode.prototype.createCanvasElement = function (width, height, customId) {\n        var canvasWidth = width;\n        var canvasHeight = height;\n        var canvasElement = document.createElement(\"canvas\");\n        canvasElement.style.width = canvasWidth + \"px\";\n        canvasElement.style.height = canvasHeight + \"px\";\n        canvasElement.style.display = \"none\";\n        canvasElement.id = isNullOrUndefined(customId)\n            ? \"qr-canvas\" : customId;\n        return canvasElement;\n    };\n    Html5Qrcode.prototype.getShadedRegionBounds = function (width, height, qrboxSize) {\n        if (qrboxSize.width > width || qrboxSize.height > height) {\n            throw \"'config.qrbox' dimensions should not be greater than the \"\n                + \"dimensions of the root HTML element.\";\n        }\n        return {\n            x: (width - qrboxSize.width) / 2,\n            y: (height - qrboxSize.height) / 2,\n            width: qrboxSize.width,\n            height: qrboxSize.height\n        };\n    };\n    Html5Qrcode.prototype.possiblyInsertShadingElement = function (element, width, height, qrboxSize) {\n        if ((width - qrboxSize.width) < 1 || (height - qrboxSize.height) < 1) {\n            return;\n        }\n        var shadingElement = document.createElement(\"div\");\n        shadingElement.style.position = \"absolute\";\n        var rightLeftBorderSize = (width - qrboxSize.width) / 2;\n        var topBottomBorderSize = (height - qrboxSize.height) / 2;\n        shadingElement.style.borderLeft\n            = rightLeftBorderSize + \"px solid #0000007a\";\n        shadingElement.style.borderRight\n            = rightLeftBorderSize + \"px solid #0000007a\";\n        shadingElement.style.borderTop\n            = topBottomBorderSize + \"px solid #0000007a\";\n        shadingElement.style.borderBottom\n            = topBottomBorderSize + \"px solid #0000007a\";\n        shadingElement.style.boxSizing = \"border-box\";\n        shadingElement.style.top = \"0px\";\n        shadingElement.style.bottom = \"0px\";\n        shadingElement.style.left = \"0px\";\n        shadingElement.style.right = \"0px\";\n        shadingElement.id = \"\" + Constants.SHADED_REGION_ELEMENT_ID;\n        if ((width - qrboxSize.width) < 11\n            || (height - qrboxSize.height) < 11) {\n            this.hasBorderShaders = false;\n        }\n        else {\n            var smallSize = 5;\n            var largeSize = 40;\n            this.insertShaderBorders(shadingElement, largeSize, smallSize, -smallSize, 0, true);\n            this.insertShaderBorders(shadingElement, largeSize, smallSize, -smallSize, 0, false);\n            this.insertShaderBorders(shadingElement, largeSize, smallSize, qrboxSize.height + smallSize, 0, true);\n            this.insertShaderBorders(shadingElement, largeSize, smallSize, qrboxSize.height + smallSize, 0, false);\n            this.insertShaderBorders(shadingElement, smallSize, largeSize + smallSize, -smallSize, -smallSize, true);\n            this.insertShaderBorders(shadingElement, smallSize, largeSize + smallSize, qrboxSize.height + smallSize - largeSize, -smallSize, true);\n            this.insertShaderBorders(shadingElement, smallSize, largeSize + smallSize, -smallSize, -smallSize, false);\n            this.insertShaderBorders(shadingElement, smallSize, largeSize + smallSize, qrboxSize.height + smallSize - largeSize, -smallSize, false);\n            this.hasBorderShaders = true;\n        }\n        element.append(shadingElement);\n    };\n    Html5Qrcode.prototype.insertShaderBorders = function (shaderElem, width, height, top, side, isLeft) {\n        var elem = document.createElement(\"div\");\n        elem.style.position = \"absolute\";\n        elem.style.backgroundColor = Constants.BORDER_SHADER_DEFAULT_COLOR;\n        elem.style.width = width + \"px\";\n        elem.style.height = height + \"px\";\n        elem.style.top = top + \"px\";\n        if (isLeft) {\n            elem.style.left = side + \"px\";\n        }\n        else {\n            elem.style.right = side + \"px\";\n        }\n        if (!this.borderShaders) {\n            this.borderShaders = [];\n        }\n        this.borderShaders.push(elem);\n        shaderElem.appendChild(elem);\n    };\n    Html5Qrcode.prototype.showPausedState = function () {\n        if (!this.scannerPausedUiElement) {\n            throw \"[internal error] scanner paused UI element not found\";\n        }\n        this.scannerPausedUiElement.style.display = \"block\";\n    };\n    Html5Qrcode.prototype.hidePausedState = function () {\n        if (!this.scannerPausedUiElement) {\n            throw \"[internal error] scanner paused UI element not found\";\n        }\n        this.scannerPausedUiElement.style.display = \"none\";\n    };\n    Html5Qrcode.prototype.getTimeoutFps = function (fps) {\n        return 1000 / fps;\n    };\n    return Html5Qrcode;\n}());\nexport { Html5Qrcode };\n//# sourceMappingURL=html5-qrcode.js.map","var SVG_XML_PREFIX = \"data:image/svg+xml;base64,\";\nexport var ASSET_CAMERA_SCAN = SVG_XML_PREFIX + \"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==\";\nexport var ASSET_FILE_SCAN = SVG_XML_PREFIX + \"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=\";\nexport var ASSET_INFO_ICON_16PX = SVG_XML_PREFIX + \"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+\";\nexport var ASSET_CLOSE_ICON_16PX = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=\";\n//# sourceMappingURL=image-assets.js.map","var PersistedDataFactory = (function () {\n    function PersistedDataFactory() {\n    }\n    PersistedDataFactory.createDefault = function () {\n        return {\n            hasPermission: false,\n            lastUsedCameraId: null\n        };\n    };\n    return PersistedDataFactory;\n}());\nvar PersistedDataManager = (function () {\n    function PersistedDataManager() {\n        this.data = PersistedDataFactory.createDefault();\n        var data = localStorage.getItem(PersistedDataManager.LOCAL_STORAGE_KEY);\n        if (!data) {\n            this.reset();\n        }\n        else {\n            this.data = JSON.parse(data);\n        }\n    }\n    PersistedDataManager.prototype.hasCameraPermissions = function () {\n        return this.data.hasPermission;\n    };\n    PersistedDataManager.prototype.getLastUsedCameraId = function () {\n        return this.data.lastUsedCameraId;\n    };\n    PersistedDataManager.prototype.setHasPermission = function (hasPermission) {\n        this.data.hasPermission = hasPermission;\n        this.flush();\n    };\n    PersistedDataManager.prototype.setLastUsedCameraId = function (lastUsedCameraId) {\n        this.data.lastUsedCameraId = lastUsedCameraId;\n        this.flush();\n    };\n    PersistedDataManager.prototype.resetLastUsedCameraId = function () {\n        this.data.lastUsedCameraId = null;\n        this.flush();\n    };\n    PersistedDataManager.prototype.reset = function () {\n        this.data = PersistedDataFactory.createDefault();\n        this.flush();\n    };\n    PersistedDataManager.prototype.flush = function () {\n        localStorage.setItem(PersistedDataManager.LOCAL_STORAGE_KEY, JSON.stringify(this.data));\n    };\n    PersistedDataManager.LOCAL_STORAGE_KEY = \"HTML5_QRCODE_DATA\";\n    return PersistedDataManager;\n}());\nexport { PersistedDataManager };\n//# sourceMappingURL=storage.js.map","import { ASSET_CLOSE_ICON_16PX, ASSET_INFO_ICON_16PX } from \"./image-assets\";\nimport { LibraryInfoStrings } from \"./strings\";\nvar LibraryInfoDiv = (function () {\n    function LibraryInfoDiv() {\n        this.infoDiv = document.createElement(\"div\");\n    }\n    LibraryInfoDiv.prototype.renderInto = function (parent) {\n        this.infoDiv.style.position = \"absolute\";\n        this.infoDiv.style.top = \"10px\";\n        this.infoDiv.style.right = \"10px\";\n        this.infoDiv.style.zIndex = \"2\";\n        this.infoDiv.style.display = \"none\";\n        this.infoDiv.style.padding = \"5pt\";\n        this.infoDiv.style.border = \"1px solid silver\";\n        this.infoDiv.style.fontSize = \"10pt\";\n        this.infoDiv.style.background = \"rgb(248 248 248)\";\n        this.infoDiv.innerText = LibraryInfoStrings.builtUsing();\n        var projectLink = document.createElement(\"a\");\n        projectLink.innerText = \"html5-qrcode\";\n        projectLink.href = \"https://github.com/mebjas/html5-qrcode\";\n        projectLink.target = \"new\";\n        this.infoDiv.appendChild(projectLink);\n        var breakElemFirst = document.createElement(\"br\");\n        var breakElemSecond = document.createElement(\"br\");\n        this.infoDiv.appendChild(breakElemFirst);\n        this.infoDiv.appendChild(breakElemSecond);\n        var reportIssueLink = document.createElement(\"a\");\n        reportIssueLink.innerText = LibraryInfoStrings.reportIssues();\n        reportIssueLink.href = \"https://github.com/mebjas/html5-qrcode/issues\";\n        reportIssueLink.target = \"new\";\n        this.infoDiv.appendChild(reportIssueLink);\n        parent.appendChild(this.infoDiv);\n    };\n    LibraryInfoDiv.prototype.show = function () {\n        this.infoDiv.style.display = \"block\";\n    };\n    LibraryInfoDiv.prototype.hide = function () {\n        this.infoDiv.style.display = \"none\";\n    };\n    return LibraryInfoDiv;\n}());\nvar LibraryInfoIcon = (function () {\n    function LibraryInfoIcon(onTapIn, onTapOut) {\n        this.isShowingInfoIcon = true;\n        this.onTapIn = onTapIn;\n        this.onTapOut = onTapOut;\n        this.infoIcon = document.createElement(\"img\");\n    }\n    LibraryInfoIcon.prototype.renderInto = function (parent) {\n        var _this = this;\n        this.infoIcon.alt = \"Info icon\";\n        this.infoIcon.src = ASSET_INFO_ICON_16PX;\n        this.infoIcon.style.position = \"absolute\";\n        this.infoIcon.style.top = \"4px\";\n        this.infoIcon.style.right = \"4px\";\n        this.infoIcon.style.opacity = \"0.6\";\n        this.infoIcon.style.cursor = \"pointer\";\n        this.infoIcon.style.zIndex = \"2\";\n        this.infoIcon.style.width = \"16px\";\n        this.infoIcon.style.height = \"16px\";\n        this.infoIcon.onmouseover = function (_) { return _this.onHoverIn(); };\n        this.infoIcon.onmouseout = function (_) { return _this.onHoverOut(); };\n        this.infoIcon.onclick = function (_) { return _this.onClick(); };\n        parent.appendChild(this.infoIcon);\n    };\n    LibraryInfoIcon.prototype.onHoverIn = function () {\n        if (this.isShowingInfoIcon) {\n            this.infoIcon.style.opacity = \"1\";\n        }\n    };\n    LibraryInfoIcon.prototype.onHoverOut = function () {\n        if (this.isShowingInfoIcon) {\n            this.infoIcon.style.opacity = \"0.6\";\n        }\n    };\n    LibraryInfoIcon.prototype.onClick = function () {\n        if (this.isShowingInfoIcon) {\n            this.isShowingInfoIcon = false;\n            this.onTapIn();\n            this.infoIcon.src = ASSET_CLOSE_ICON_16PX;\n            this.infoIcon.style.opacity = \"1\";\n        }\n        else {\n            this.isShowingInfoIcon = true;\n            this.onTapOut();\n            this.infoIcon.src = ASSET_INFO_ICON_16PX;\n            this.infoIcon.style.opacity = \"0.6\";\n        }\n    };\n    return LibraryInfoIcon;\n}());\nvar LibraryInfoContainer = (function () {\n    function LibraryInfoContainer() {\n        var _this = this;\n        this.infoDiv = new LibraryInfoDiv();\n        this.infoIcon = new LibraryInfoIcon(function () {\n            _this.infoDiv.show();\n        }, function () {\n            _this.infoDiv.hide();\n        });\n    }\n    LibraryInfoContainer.prototype.renderInto = function (parent) {\n        this.infoDiv.renderInto(parent);\n        this.infoIcon.renderInto(parent);\n    };\n    return LibraryInfoContainer;\n}());\nexport { LibraryInfoContainer };\n//# sourceMappingURL=ui.js.map","var CameraManager = (function () {\n    function CameraManager() {\n    }\n    CameraManager.hasCameraPermissions = function () {\n        return new Promise(function (resolve, _) {\n            navigator.mediaDevices.enumerateDevices().then(function (devices) {\n                devices.forEach(function (device) {\n                    if (device.kind === \"videoinput\" && device.label) {\n                        resolve(true);\n                    }\n                });\n                resolve(false);\n            });\n        });\n    };\n    return CameraManager;\n}());\nexport { CameraManager };\n//# sourceMappingURL=camera.js.map","import { Html5QrcodeScanType, Html5QrcodeConstants } from \"../../core\";\nvar ScanTypeSelector = (function () {\n    function ScanTypeSelector(supportedScanTypes) {\n        this.supportedScanTypes = this.validateAndReturnScanTypes(supportedScanTypes);\n    }\n    ScanTypeSelector.prototype.getDefaultScanType = function () {\n        return this.supportedScanTypes[0];\n    };\n    ScanTypeSelector.prototype.hasMoreThanOneScanType = function () {\n        return this.supportedScanTypes.length > 1;\n    };\n    ScanTypeSelector.prototype.isCameraScanRequired = function () {\n        for (var _i = 0, _a = this.supportedScanTypes; _i < _a.length; _i++) {\n            var scanType = _a[_i];\n            if (ScanTypeSelector.isCameraScanType(scanType)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    ScanTypeSelector.isCameraScanType = function (scanType) {\n        return scanType === Html5QrcodeScanType.SCAN_TYPE_CAMERA;\n    };\n    ScanTypeSelector.isFileScanType = function (scanType) {\n        return scanType === Html5QrcodeScanType.SCAN_TYPE_FILE;\n    };\n    ScanTypeSelector.prototype.validateAndReturnScanTypes = function (supportedScanTypes) {\n        if (!supportedScanTypes || supportedScanTypes.length === 0) {\n            return Html5QrcodeConstants.DEFAULT_SUPPORTED_SCAN_TYPE;\n        }\n        var maxExpectedValues = Html5QrcodeConstants.DEFAULT_SUPPORTED_SCAN_TYPE.length;\n        if (supportedScanTypes.length > maxExpectedValues) {\n            throw \"Max \" + maxExpectedValues + \" values expected for \"\n                + \"supportedScanTypes\";\n        }\n        for (var _i = 0, supportedScanTypes_1 = supportedScanTypes; _i < supportedScanTypes_1.length; _i++) {\n            var scanType = supportedScanTypes_1[_i];\n            if (!Html5QrcodeConstants.DEFAULT_SUPPORTED_SCAN_TYPE\n                .includes(scanType)) {\n                throw \"Unsupported scan type \" + scanType;\n            }\n        }\n        return supportedScanTypes;\n    };\n    return ScanTypeSelector;\n}());\nexport { ScanTypeSelector };\n//# sourceMappingURL=scan-type-selector.js.map","<template>\r\n  <div>\r\n     <div class=\"py-4 px-2 shadow\">\r\n        <p class=\"mt-1 font-semibold text-lg float-right mr-3\">QR Scanner</p>\r\n        <button @click=\"$router.go(-1)\" type=\"button\"  class=\"btn btn-sm btn-dark-outline ml-2 rounded-circle px-2\" style=\"border:1px solid black;\">\r\n            <span class=\"typcn typcn-arrow-left\"></span>\r\n        </button>\r\n    </div>\r\n    <div class=\"row\">\r\n      <br>\r\n      <br>\r\n      <br>\r\n      <div id=\"reader\" style=\"height:350px;width:100vw;\" class=\"mt-12\"></div>\r\n        <!-- <div class=\"col-sm-12\" v-if=\"!streamOn\" style=\"height:100vh;\" @click=\"getStream('video');streamOn=true;$forceUpdate()\">\r\n          <div style=\"height:90vh;\" class=\"d-flex justify-content-center align-items-center shadow-lg rounded-lg\">\r\n              <div style=\"width:100%\">\r\n                  <p class=\"text-center text-4xl font-semibold\">\r\n                    Klik disini untuk Start Camera!\r\n                  </p>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"col-sm-12\">\r\n          <video autoplay playsInline muted style=\"height:60vh; width: 100vh;\" id=\"videoQRCODE\"></video>\r\n          <div class=\"row justify-content-center mt-2\">\r\n            <div class=\"col-sm-6\">\r\n              <button type=\"button\" class=\"btn btn-sm btn-style8 text-sm p-3 btn-block\" @click=\"scanQR\" v-if=\"loading\">Scan QR!</button>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport QrScanner from \"qr-scanner\";\r\nimport {Html5QrcodeScanner} from \"html5-qrcode\"\r\nimport {Html5Qrcode} from \"html5-qrcode\"\r\nimport axios from \"axios\";\r\nimport autophp from \"@/plugins/auto\";\r\nlet sdb = new autophp(\"ci\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      isIos: false,\r\n      countIos: 0,\r\n      streamOn:false\r\n    };\r\n  },\r\n  methods: {\r\n    scanQR() {\r\n      let that = this;\r\n      let videoElem = document.getElementById(\"videoQRCODE\");\r\n      QrScanner.scanImage(videoElem)\r\n        .then((result) => {\r\n          console.log(\"result\", result);\r\n          result=JSON.parse(result);\r\n          sdb.alert(\"QR Code!\",'bg-green-400');\r\n          that.$router.push(`/absen/gps?type=${this.$route.query.type}&target=${this.$route.query.target}&latitude=${result.lat}&longitude=${result.long}`);\r\n        })\r\n        .catch((error) => {\r\n          that.$router.push(`/absen/gps?type=${this.$route.query.type}&target=${this.$route.query.target}&latitude=${this.$route.query.latitude}&longitude=${this.$route.query.longitude}`);\r\n          sdb.alert(\"QR Code!\");\r\n          console.log(error || \"No QR code found.\");\r\n        });\r\n    },\r\n     getStream(type) {\r\n      if (\r\n        !navigator.mediaDevices &&\r\n        !navigator.getUserMedia &&\r\n        !navigator.webkitGetUserMedia &&\r\n        !navigator.mozGetUserMedia &&\r\n        !navigator.msGetUserMedia\r\n      ) {\r\n        alert(\"User Media API not supported.\");\r\n        return;\r\n      }\r\n      setTimeout(() => {\r\n        this.loading=true;\r\n        this.$forceUpdate();\r\n      }, 2000);\r\n      var constraints = {};\r\n      constraints[type] = true;\r\n\r\n      this.getUserMedia(constraints)\r\n        .then(function (stream) {\r\n          var mediaControl = document.querySelector(type);\r\n\r\n          if (\"srcObject\" in mediaControl) {\r\n            mediaControl.srcObject = stream;\r\n          } else if (navigator.mozGetUserMedia) {\r\n            mediaControl.mozSrcObject = stream;\r\n          } else {\r\n            mediaControl.src = (window.URL || window.webkitURL).createObjectURL(\r\n              stream\r\n            );\r\n          }\r\n\r\n          mediaControl.play();\r\n        })\r\n        .catch(function (err) {\r\n          alert(\"Error: \" + err);\r\n        });\r\n    },\r\n    getUserMedia(constraints) {\r\n      // if Promise-based API is available, use it\r\n      if (navigator.mediaDevices) {\r\n        setTimeout(() => {\r\n          this.checkCamera();\r\n        }, 1500);\r\n        return navigator.mediaDevices.getUserMedia({\r\n          video:{\r\n            facingMode: \"environment\", //'environment':'user',\r\n          }\r\n        });\r\n      }\r\n      // otherwise try falling back to old, possibly prefixed API...\r\n      var legacyApi =\r\n        navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia;\r\n\r\n      if (legacyApi) {\r\n        // ...and promisify it\r\n        return new Promise(function (resolve, reject) {\r\n          legacyApi.bind(navigator)(constraints, resolve, reject);\r\n        });\r\n      }\r\n    },\r\n    checkCamera(){\r\n      Html5Qrcode.getCameras().then(devices => {\r\n        /**\r\n         * devices would be an array of objects of type:\r\n         * { id: \"id\", label: \"label\" }\r\n         */\r\n        console.log('devices',devices)\r\n        if (devices && devices.length) {\r\n          var cameraId = devices[0].id;\r\n          // .. use this to start scanning.\r\n        }\r\n      }).catch(err => {\r\n        // handle err\r\n      });\r\n    },\r\n    startScanner(){\r\n      let that=this;\r\n      const html5QrCode = new Html5Qrcode(\"reader\");\r\n      const qrCodeSuccessCallback = (decodedText, decodedResult) => {\r\n        let result = JSON.parse(decodedText);\r\n        that.$router.push(`/absen/gps?type=${this.$route.query.type}&target=${this.$route.query.target}&latitude=${result.lat}&longitude=${result.long}`);\r\n        html5QrCode.stop().then((ignore) => {\r\n          // QR Code scanning is stopped.\r\n        }).catch((err) => {\r\n          // Stop failed, handle it.\r\n        });\r\n      };\r\n      const config = { fps: 10, qrbox: { width: 250, height: 250 } };\r\n\r\n      // If you want to prefer back camera\r\n      html5QrCode.start({ facingMode: \"environment\" }, config, qrCodeSuccessCallback);\r\n\r\n      // html5QrCode.start({ facingMode: { exact: \"environment\"} }, config, qrCodeSuccessCallback);\r\n    \r\n    }\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    // this.startVideo();\r\n\r\n    this.startScanner();\r\n    \r\n    if (localStorage.getItem(\"users\")) {\r\n    } else {\r\n      this.$router.push(\"/\");\r\n    }\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=35df273c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}