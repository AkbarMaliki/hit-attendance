{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/modules/es.array-buffer.constructor.js","webpack:///./node_modules/core-js/modules/es.typed-array.float32-array.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/pages/profile-picture.vue?8fe9","webpack:///src/pages/profile-picture.vue","webpack:///./src/pages/profile-picture.vue?2887","webpack:///./src/pages/profile-picture.vue"],"names":["$","$values","values","target","stat","O","redefine","DatePrototype","Date","prototype","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","value","call","this","_typeof","obj","Symbol","iterator","constructor","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","push","module","exports","entries","global","arrayBufferModule","setSpecies","ARRAY_BUFFER","ArrayBuffer","NativeArrayBuffer","forced","createTypedArrayConstructor","init","data","byteOffset","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","callbackfn","arguments","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","$event","$router","go","staticStyle","attrs","domProps","zoomCamera","saveFace","staticRenderFns","loop","user","users","descriptor","descriptors","vdata","camera","loading","lanjut","showOutput","simpanOutput","layout","methods","extractImage","selectedFile","img","files","reader","FileReader","imgtag","document","getElementById","title","name","onload","event","src","readAsDataURL","startScan","startVideo","navigator","mediaDevices","dataURItoBlob","byteString","atob","dataURI","split","mimeString","ab","ia","Uint8Array","charCodeAt","Blob","cekduplicate","window","user_directory","find","querySelector","classList","toggle","format","$datefns","tgl","mounted","$store","state","hit_id","addEventListener","console","log","that","component"],"mappings":"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","file":"js/page-profile-picture.a6d013e9.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"py-4 px-2 shadow bg-blue-light text-white font-bold\"},[_c('div',{staticClass:\"font-semibold text-xs mr-3 float-right mt-2\"},[_vm._v(\" Profile Picture \")]),_c('div',{staticClass:\"ml-2 cursor-pointer\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('svg',{staticClass:\"d-inline mr-1\",staticStyle:{\"fill\":\"white\"},attrs:{\"width\":\"20\",\"height\":\"20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 320 512\"}},[_c('path',{attrs:{\"d\":\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\"}})])])]),_c('div',{staticClass:\"row justify-content-center bg-black\",staticStyle:{\"height\":\"100vh\"}},[_c('div',{staticClass:\"col-10 shadow rounded-lg p-3 my-2\"},[_c('div',[_c('video',{staticClass:\"border-2 border-white\",staticStyle:{\"border-radius\":\"20px\"},attrs:{\"id\":\"video\",\"height\":\"680\",\"width\":\"512\",\"autoplay\":\"\",\"muted\":\"\"},domProps:{\"muted\":true},on:{\"click\":_vm.zoomCamera}}),_c('p',{staticClass:\"text-white text-center\"},[_vm._v(\"Take Your Profile Picture\")])])])]),_c('img',{staticStyle:{\"position\":\"absolute\",\"z-index\":\"-10\",\"top\":\"-10000px\",\"width\":\"512px\",\"height\":\"512px\"},attrs:{\"src\":\"\",\"id\":\"myimage\",\"alt\":\"\"}}),_c('div',{staticClass:\"bg-transparent rounded-lg d-block d-sm-none\",staticStyle:{\"position\":\"fixed\",\"bottom\":\"-5px\",\"left\":\"0px\",\"width\":\"100vw\",\"height\":\"60px\",\"z-index\":\"100\",\"border-top-left-radius\":\"20px\",\"border-top-right-radius\":\"20px\"}},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-4 text-center p-3 cursor-pointer\"}),_c('div',{staticClass:\"col-4 text-center p-3 cursor-pointer\"},[_c('div',{staticClass:\"border-2 border-white d-inline p-4\",staticStyle:{\"border-radius\":\"50px\"}},[_c('svg',{staticClass:\"mb-1\",staticStyle:{\"fill\":\"rgb(246, 185, 31)\",\"display\":\"inline\"},attrs:{\"height\":\"20\",\"width\":\"20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":_vm.saveFace}},[_c('path',{attrs:{\"d\":\"M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"}})])])]),_c('div',{staticClass:\"col-4 text-center p-3 cursor-pointer\"})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"py-4 px-2 shadow bg-blue-light text-white font-bold\">\r\n      <div class=\"font-semibold text-xs mr-3 float-right mt-2\">\r\n        Profile Picture\r\n      </div>\r\n      <div @click=\"$router.go(-1)\" class=\"ml-2 cursor-pointer\">\r\n          <svg  width=\"20\" height=\"20\" style=\"fill: white;\" class=\"d-inline mr-1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z\"/></svg>\r\n      </div>\r\n    </div>\r\n    <div class=\"row justify-content-center bg-black\" style=\"height:100vh;\">\r\n      \r\n      <div class=\"col-10 shadow rounded-lg p-3 my-2\">\r\n        <div>\r\n          <video\r\n            @click=\"zoomCamera\"\r\n            id=\"video\"\r\n            height=\"680\"\r\n            width=\"512\"\r\n            style=\"border-radius:20px;\" class=\"border-2 border-white\"\r\n            autoplay\r\n            muted\r\n          ></video>\r\n          <p class=\"text-white text-center\">Take Your Profile Picture</p>\r\n        </div>\r\n      </div>\r\n    \r\n    </div>\r\n    <img\r\n      src=\"\"\r\n      id=\"myimage\"\r\n      alt=\"\"\r\n      style=\"\r\n        position: absolute;\r\n        z-index: -10;\r\n        top: -10000px;\r\n        width: 512px;\r\n        height: 512px;\r\n      \"\r\n    />\r\n   \r\n    <div style=\"position: fixed;bottom: -5px;left:0px;width:100vw;height:60px;z-index:100;border-top-left-radius: 20px;border-top-right-radius: 20px;\" class=\"bg-transparent rounded-lg d-block d-sm-none\" >\r\n          <div class=\"row justify-content-center\">\r\n              <div class=\"col-4 text-center p-3 cursor-pointer\">\r\n              </div>\r\n              <div class=\"col-4 text-center p-3 cursor-pointer\">\r\n                <div class=\"border-2 border-white d-inline p-4\" style=\"border-radius:50px;\">\r\n                  <svg @click=\"saveFace\" class=\"mb-1\" style=\"fill: rgb(246, 185, 31);display: inline;\" height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z\"/></svg>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4 text-center p-3 cursor-pointer\" >\r\n                  <!-- <a :href=\"baseURL+'/pos/list-order'\">\r\n                      <svg  style=\"fill: rgb(255, 255, 255);display: inline;\" height=\"20\" width=\"20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><path d=\"M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z\"/></svg>\r\n                  </a> -->\r\n              </div>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nlet file\r\n// import * as faceapi from 'face-api.js';\r\nimport * as faceapi from \"@vladmandic/face-api\";\r\nimport autophp from \"@/plugins/auto\";\r\nimport axios from \"axios\";\r\nlet sdb = new autophp(\"ci\", \"https://ebkm.my.id/\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      loop: true,\r\n      user: [],\r\n      users: [],\r\n      descriptor: [],\r\n      descriptors: [],\r\n      vdata: {},\r\n      camera: \"depan\",\r\n      loading: true,\r\n      lanjut: false,\r\n      showOutput: false,\r\n      simpanOutput: false,\r\n    };\r\n  },\r\n  layout:'app',\r\n  methods: {\r\n    extractImage() {\r\n      let img = document.getElementById(\"filenya\");\r\n      var selectedFile = img.files[0];\r\n      var reader = new FileReader();\r\n\r\n      var imgtag = document.getElementById(\"myimage\");\r\n      imgtag.title = selectedFile.name;\r\n\r\n      reader.onload = function (event) {\r\n        imgtag.src = event.target.result;\r\n      };\r\n      reader.readAsDataURL(selectedFile);\r\n      this.startScan(imgtag, false);\r\n    },\r\n    // CAMERA BELAKANG\r\n    startVideo() {\r\n      let that = this;\r\n      const video = document.getElementById(\"video\");\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          video: {\r\n            facingMode: that.$store.state.camera?'user':'environment',\r\n            resizeMode: \"true\",\r\n            // , width: { ideal: 512 },height:{ideal:512}\r\n          },\r\n        })\r\n        .then(function (mediaStream) {\r\n          that.loading = false;\r\n          that.$forceUpdate();\r\n          video.srcObject = mediaStream;\r\n          video.src = window.URL.createObjectURL(mediaStream);\r\n          video.play();\r\n        });\r\n    },\r\n    // CAMERA DEPAN\r\n    dataURItoBlob(dataURI) {\r\n      var byteString = atob(dataURI.split(\",\")[1]);\r\n      var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\r\n      var ab = new ArrayBuffer(byteString.length);\r\n      var ia = new Uint8Array(ab);\r\n      for (var i = 0; i < byteString.length; i++) {\r\n        ia[i] = byteString.charCodeAt(i);\r\n      }\r\n      return new Blob([ab], { type: mimeString });\r\n    },\r\n    // START SCAN\r\n    async startScan(videoEl, source = true) {\r\n      sdb.alert('Extract Data Wajah','bg-blue-400')\r\n      let that = this;\r\n      // console.log('looping')\r\n      var video;\r\n      if (source) {\r\n        sdb.alert(\"video\", \"bg-yellow-400\");\r\n        video = document.getElementById(\"video\");\r\n        videoEl = video;\r\n      } else {\r\n        sdb.alert(\"Image\", \"bg-yellow-400\");\r\n        video = document.getElementById(\"myimage\");\r\n        videoEl = video;\r\n      }\r\n      function insertAfter(referenceNode, newNode) {\r\n        referenceNode.parentNode.insertBefore(\r\n          newNode,\r\n          referenceNode.nextSibling\r\n        );\r\n      }\r\n      var canvas = faceapi.createCanvasFromMedia(video);\r\n      canvas.style.position = \"absolute;\";\r\n      insertAfter(document.getElementById(\"video\"), canvas);\r\n      var displaySize = { width: video.width, height: video.height };\r\n      sdb.alert(\"scanning ...\", \"bg-green-400\");\r\n      console.log(displaySize);\r\n      faceapi.matchDimensions(canvas, displaySize);\r\n\r\n      faceapi.euclideanDistance([0, 0], [0, 20]);\r\n      // ===============================================\r\n      var users = [1];\r\n      var fullFaceDescription;\r\n      const descriptorCamera = await Promise.all(\r\n        users.map(async (label) => {\r\n          console.log(label);\r\n          // detect the face with the highest score in the image and compute it's landmarks and face descriptor\r\n          const useTinyModel = true;\r\n          fullFaceDescription = await faceapi.detectSingleFace(videoEl).withFaceLandmarks().withFaceDescriptor();\r\n          // fullFaceDescription = await faceapi.detectSingleFace(videoEl,new faceapi.TinyFaceDetectorOptions({inputSize: parseInt(that.$store.state.scanSize),})).withFaceLandmarks(useTinyModel).withFaceDescriptor();\r\n          console.log(fullFaceDescription);\r\n          if (!fullFaceDescription) {\r\n            // console.log(`no faces detected for ${JSON.stringify(label)}`)\r\n          } else {\r\n            // console.log('face detect onn')\r\n            that.extractFaceFromBox(videoEl, fullFaceDescription.detection.box);\r\n            const resizedDetections = faceapi.resizeResults(\r\n              fullFaceDescription,\r\n              displaySize\r\n            );\r\n            canvas\r\n              .getContext(\"2d\")\r\n              .clearRect(0, 0, canvas.width, canvas.height);\r\n            // faceapi.draw.drawDetections(canvas, resizedDetections);\r\n            console.log('draw box')\r\n            document.querySelectorAll(\"canvas\").forEach((e, i) => {\r\n              if (i > 0) {\r\n                e.remove();\r\n              }\r\n            });\r\n            console.log(3);\r\n            window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\r\n            // mengconvert data face descriptor ke type Float32Array\r\n            const faceDescriptors = [\r\n              new Float32Array(fullFaceDescription.descriptor),\r\n            ];\r\n            // that.cekduplicate();\r\n            return faceDescriptors;\r\n          }\r\n        })\r\n      );\r\n      that.tidakDikenali(descriptorCamera);\r\n      // that.cekduplicate(descriptorCamera,fullFaceDescription);\r\n      // if(that.$store.state.loop=='true'){\r\n      //     that.$store.state.perulanganAbsen1 = setTimeout(() => that.startScan(videoEl),3000)\r\n      // }\r\n    },\r\n    cekduplicate(descriptorCamera, fullFaceDescription) {\r\n      let that = this;\r\n      window.user_directory.find({}, async (err, docs) => {\r\n        if (docs.length > 0) {\r\n          docs = docs.filter((e) => {\r\n            if (e.facejson) {\r\n              return e;\r\n            }\r\n          });\r\n          if (docs.length > 0) {\r\n            const labeledFaceDescriptors = await Promise.all(\r\n              docs.map(async (label) => {\r\n                if (label.facejson) {\r\n                  const faceDescriptors = [];\r\n                  label.facejson.forEach((e) => {\r\n                    faceDescriptors.push(new Float32Array(Object.values(e[0]))); // multiple facejson data\r\n                  });\r\n                  return new faceapi.LabeledFaceDescriptors(\r\n                    JSON.stringify({\r\n                      EMP_NO: label.EMP_NO,\r\n                      _id: label._id,\r\n                      FULL_NAME: label.FULL_NAME,\r\n                    }),\r\n                    faceDescriptors\r\n                  );\r\n                }\r\n              })\r\n            );\r\n            const maxDescriptorDistance =\r\n              parseInt(that.$store.state.akurasiWajah) / 100;\r\n            const faceMatcher = new faceapi.FaceMatcher(\r\n              labeledFaceDescriptors,\r\n              maxDescriptorDistance\r\n            );\r\n            if (fullFaceDescription) {\r\n              console.log(\"fullFaceDescription\", fullFaceDescription);\r\n              const results = faceMatcher.findBestMatch(\r\n                fullFaceDescription.descriptor\r\n              );\r\n              console.log(\"results\", results);\r\n              if (results._label == \"unknown\") {\r\n                if (descriptorCamera[0]) {\r\n                  that.tidakDikenali(descriptorCamera);\r\n                }\r\n              } else {\r\n                let user = JSON.parse(results.label);\r\n                console.log(\"user\", results);\r\n                console.log(\"user[0]\", that.user);\r\n                if (user.EMP_NO == that.user[0].EMP_NO) {\r\n                  if (descriptorCamera[0]) {\r\n                    sdb.alert(\r\n                      \"Wajah ini milik\" + user.FULL_NAME + \", tambahkan lagi?\",\r\n                      \"bg-purple-400\",\r\n                      \"top:80px;right:30px;\"\r\n                    );\r\n                    that.lanjut = true;\r\n                    that.simpanOutput = true;\r\n                    that.descriptor = descriptorCamera;\r\n                    that.$forceUpdate();\r\n                  }\r\n                } else {\r\n                  sdb.alert(\r\n                    `Wajah ini mirip dengan ${user.FULL_NAME}`,\r\n                    \"bg-red-500\",\r\n                    \"top:80px;right:30px;\"\r\n                  );\r\n                  if (\r\n                    confirm(\r\n                      `Wajah ini mirip dengan ${user.FULL_NAME}, Yakin tambahkan di user baru?`\r\n                    )\r\n                  ) {\r\n                    that.tidakDikenali(descriptorCamera);\r\n                  } else {\r\n                    that.simpanOutput = false;\r\n                    that.$forceUpdate();\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          } else {\r\n            if (descriptorCamera[0]) {\r\n              that.tidakDikenali(descriptorCamera);\r\n            }\r\n          }\r\n        } else {\r\n          if (descriptorCamera[0]) {\r\n            that.tidakDikenali(descriptorCamera);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    async tidakDikenali(descriptorCamera) {\r\n      let that = this;\r\n      that.simpanOutput = true;\r\n      that.descriptor = descriptorCamera;\r\n      if(descriptorCamera[0]){\r\n          that.descriptors.push(descriptorCamera[0]);\r\n          sdb.alert(\r\n              \"Total data Wajah : \" + that.descriptors.length,\r\n              \"bg-dark\",\r\n              \"top:80px;right:30px;\"\r\n          );\r\n          if (that.descriptors.length >= 3) {\r\n          }\r\n          that.$forceUpdate();\r\n      }else{\r\n        sdb.alert('Wajah tidak ditemukan coba lagi !')\r\n      }\r\n    },\r\n    async extractFaceFromBox(inputImage, box) {\r\n      let outputImage = document.getElementById(\"outputImage\");\r\n      this.showOutput = true;\r\n      this.$forceUpdate();\r\n      const regionsToExtract = [\r\n        new faceapi.Rect(box.x, box.y, box.width, box.height),\r\n      ];\r\n\r\n      let faceImages = await faceapi.extractFaces(inputImage, regionsToExtract);\r\n\r\n      if (faceImages.length == 0) {\r\n        console.log(\"Face not found\");\r\n      } else {\r\n        faceImages.forEach((cnv) => {\r\n          outputImage.src = cnv.toDataURL();\r\n        });\r\n      }\r\n    },\r\n    async saveFace() {\r\n      let that = this;\r\n      sdb.alert('Uploading Data Wajah','bg-blue-400')\r\n      sdb.loadingOn()\r\n      let video = document.getElementById(\"video\");\r\n      var canvas = document.createElement('canvas');\r\n      canvas.width = video.videoWidth;\r\n      canvas.height = video.videoHeight;\r\n      var ctx = canvas.getContext('2d');\r\n      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n      var dataURL = canvas.toDataURL('image/png');\r\n      var blobBin = atob(dataURL.split(',')[1]);\r\n      var array = [];\r\n      for(var i = 0; i < blobBin.length; i++) {\r\n          array.push(blobBin.charCodeAt(i));\r\n      }\r\n      var file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n      let fd = new FormData();\r\n      fd.append(\"employee_id\", this.vdata.hit_id);\r\n      fd.append('file',file)\r\n      fd.append(\"faces\", []);\r\n      window.employees.update({ hit_id: that.$store.state.employee.hit_id }, { $set: { faces: JSON.stringify(that.descriptors), source_data:'local' } }, { multi: true }, function (err, numReplaced) {});\r\n      try{\r\n        let res = await axios.post(\r\n          this.$store.state.baseURL + \"/api/hit/profile-picture\",\r\n          fd\r\n        );\r\n        alert('Update face success, please login again to update your data !')\r\n        that.$store.dispatch('update_employees')\r\n        setTimeout(() => {\r\n          if(res.data==true){\r\n            this.$router.push('/login')\r\n          }  \r\n        }, 1000);\r\n      }catch(err){\r\n        this.$router.push('/main')\r\n      }\r\n      sdb.loadingOff()\r\n    },\r\n    zoomCamera() {\r\n      document.querySelector(\"#video\").classList.toggle(\"scale2\");\r\n    },\r\n    format(tgl) {\r\n      return this.$datefns.format(new Date(tgl), \"YYYYMMDDHHmmss\");\r\n    },\r\n  },\r\n  mounted() {\r\n    let that = this;\r\n    if (this.$store.state.hit_id) {\r\n      this.vdata.hit_id = this.$store.state.hit_id;\r\n    }\r\n    if (typeof cordova == \"object\") {\r\n      document.addEventListener(\"deviceready\", function () {\r\n        console.log(\"faceapi\", faceapi);\r\n        that.startVideo();\r\n      });\r\n    } else {\r\n      that.startVideo();\r\n    }\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile-picture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile-picture.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile-picture.vue?vue&type=template&id=54341b89&\"\nimport script from \"./profile-picture.vue?vue&type=script&lang=js&\"\nexport * from \"./profile-picture.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}